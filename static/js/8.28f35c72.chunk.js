(this["webpackJsonpchina-vk"]=this["webpackJsonpchina-vk"]||[]).push([[8],{293:function(e,t,n){e.exports=n.p+"static/media/facesad.b04d99fa.png"},299:function(e,t,n){"use strict";n.r(t);var r=n(8),i=n(0),a=n.n(i),o=n(29),l=n(31),c=function(e){var t=e.historyArr,n=e.pageSize,r=e.currentPage,o=e.setCurrentPages,c=e.rightBorderPageSize,p=e.leftBorderPageSize,f=Object(i.useState)(1),y=Object(l.a)(f,2),h=y[0],b=y[1];console.log(h),Object(i.useEffect)((function(){0===t.slice(p,c).length&&0!==t.length&&(o(r-1),r===E&&b(h-1))}));for(var w=Math.ceil(t.length/n),x=[],v=1;v<=w;v++)x.push(v);var E=3*(h-1)+1,I=3*h;return console.log(I,x.length),t.length>n?a.a.createElement(s,null,a.a.createElement(d,null,a.a.createElement(m,{disabled:1===h,onClick:function(){o(E-1),b(h-1)}},"\xab"),a.a.createElement(g,null,x.slice(E-1,I).map((function(e,t){return a.a.createElement(u,{key:t,currentPage:r,p:e,onClick:function(){o(e)}},e)}))),a.a.createElement(m,{disabled:!(I<x.length),onClick:function(){o(I+1),b(h+1)}},"\xbb"))):null},s=r.b.div.withConfig({displayName:"GalleryHistoryPagination__PaginationContainer",componentId:"rm06yr-0"})(["display:flex;"]),d=r.b.div.withConfig({displayName:"GalleryHistoryPagination__Pages",componentId:"rm06yr-1"})(["display:flex;margin:0 auto;"]),g=r.b.div.withConfig({displayName:"GalleryHistoryPagination__PagesItems",componentId:"rm06yr-2"})(["display:flex;padding:10px 0;cursor:pointer;div{padding:10px;border-left:1px solid #e7e8ec;border-top:1px solid #e7e8ec;border-bottom:1px solid #e7e8ec;}div:first-child{border-left:none;}"]),u=r.b.div.withConfig({displayName:"GalleryHistoryPagination__PagesItem",componentId:"rm06yr-3"})(["font-weight:",";transition:font-weight,transform 0.2s ease-in-out;"],(function(e){return e.currentPage===e.p?"bold":"inherit"})),m=r.b.button.withConfig({displayName:"GalleryHistoryPagination__PaginationButton",componentId:"rm06yr-4"})(["background:none;border:1px solid #e7e8ec;border-radius:2px;margin:10px 0;padding:10px;"]),p=n(53),f=n(296),y=n(284),h=n(301),b=n(282),w=function(e){var t=e.id,n=e.url,r=e.deleteHistoryItem,o=e.item,c=Object(i.useRef)(null),s=Object(h.a)({item:{type:"box",id:t,url:n,imgItem:c},end:function(e,n){var i=n.getDropResult();e&&i&&r(t)},collect:function(e){return{isDragging:e.isDragging()}}}),d=Object(l.a)(s,3),g=d[0].isDragging,u=d[1],m=d[2];return Object(i.useEffect)((function(){m(Object(b.a)(),{captureDraggingState:!0})}),[]),a.a.createElement(x,{width:o,isDrag:g,ref:u,key:t,onClick:function(){r(t)}},a.a.createElement(v,{ref:c,key:t,src:n,alt:"#"}))},x=r.b.li.withConfig({displayName:"GalleryHistoryItem__Item",componentId:"sc-59036j-0"})(["",";height:150px;cursor:grab;",""],(function(e){return e.width?"width : ".concat(e.width.current.offsetWidth,"px"):null}),(function(e){return e.isDrag?"opacity: 0.4":null})),v=r.b.img.withConfig({displayName:"GalleryHistoryItem__ItemImg",componentId:"sc-59036j-1"})(["width:100%;height:100%;"]),E=n(67),I=n(302);function C(){var e=Object(E.a)(["\n    to {\n        outline-color: #2cbedc;\n        box-shadow: 0 0 0 5px #E0E4CC;\n    }\n\n"]);return C=function(){return e},e}var P=function(){var e=Object(I.a)({accept:"box",drop:function(){return{name:"test"}},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}),t=Object(l.a)(e,2),n=t[0],r=n.canDrop,i=n.isOver,o=t[1];return a.a.createElement(_,{canDrop:r,isOver:i,ref:o},a.a.createElement("p",null,"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0438 \u0441\u044e\u0434\u0430 \u0447\u0442\u043e\u0431\u044b \u0443\u0434\u0430\u043b\u0438\u0442\u044c"))},O=Object(r.c)(C()),_=r.b.div.withConfig({displayName:"GalleryHistoryDropDrag__DropContainer",componentId:"iircp8-0"})(["width:300px;height:200px;outline:5px dashed #E0E4CC;box-shadow:0 0 0 5px #69d2e7;margin:100px auto 0 auto;display:flex;justify-content:center;align-items:center;",";transition:background-color .33s ease-in-out;animation:",";"],(function(e){return e.isOver?"background-color: #69d2e7":null}),(function(e){return e.canDrop?Object(r.a)([""," 1s ease infinite"],O):null})),j=n(295),D={display:"inline-block",transform:"rotate(-7deg)",WebkitTransform:"rotate(-7deg)"},k=Object(i.memo)((function(e){var t=e.id,n=e.url,r=e.item;return a.a.createElement("div",{style:D},a.a.createElement(w,{item:r,id:t,url:n}))})),H={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function S(e,t,n){if(!e||!t)return{display:"none"};var r=t.x,i=t.y;return n&&(r-=e.x,i-=e.y,r+=e.x,i+=e.y),{transform:"translate(".concat(r,"px, ").concat(i,"px)")}}var N=function(e){var t=Object(j.a)((function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})),n=(t.itemType,t.isDragging,t.item),r=t.initialOffset,i=t.currentOffset;return a.a.createElement("div",{style:H},a.a.createElement("div",{style:S(r,i)},a.a.createElement(k,{item:n&&n.imgItem?n.imgItem:null,id:n?n.id:null,url:n?n.url:null})))},z=n(293),G=n.n(z),B=(t.default=Object(o.b)((function(e){return{historyArr:e.galleryPage.galleryHistory,pageSize:e.galleryPage.pageSize,currentPage:e.galleryPage.currentPage}}),{deleteHistoryItem:p.a,setCurrentPages:p.d})((function(e){var t=e.historyArr,n=e.deleteHistoryItem,r=e.pageSize,i=e.currentPage,o=e.setCurrentPages,l=i*r,s=l-r;return a.a.createElement(f.a,{backend:y.a},a.a.createElement(B,null,a.a.createElement("h2",null,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"),0===t.length?"\u0412\u0430\u0448\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u0443\u0441\u0442\u0430":null,a.a.createElement(c,{historyArr:t,pageSize:r,currentPage:i,setCurrentPages:o,leftBorderPageSize:s,rightBorderPageSize:l}),a.a.createElement(A,{pageSize:r},t.slice(s,l).map((function(e){return a.a.createElement("div",{style:{minWidth:0}},a.a.createElement(w,{id:e.id,url:e.url,deleteHistoryItem:n}),a.a.createElement(T,null,a.a.createElement("p",null,e.imgName?e.imgName:"no name"),a.a.createElement("span",null,e.time)))}))),0===t.length?a.a.createElement(W,null,a.a.createElement("img",{src:G.a,alt:"faceSad"})):a.a.createElement(P,null),a.a.createElement(N,null)))})),r.b.main.withConfig({displayName:"GalleryHistory__Container",componentId:"sc-1450www-0"})(["max-width:700px;margin:0 auto;background-color:white;box-shadow:0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;border-radius:4px;padding:50px;h2{margin-bottom:30px;}"])),A=r.b.ul.withConfig({displayName:"GalleryHistory__HistoryWrapper",componentId:"sc-1450www-1"})(["margin-top:30px;display:grid;grid-template-columns:",";grid-gap:10px;"],(function(e){return e.pageSize?"repeat(".concat(e.pageSize,", 1fr)"):"1fr"})),T=r.b.div.withConfig({displayName:"GalleryHistory__Description",componentId:"sc-1450www-2"})(["p{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.6em;}"]),W=r.b.div.withConfig({displayName:"GalleryHistory__FaceSad",componentId:"sc-1450www-3"})(["width:400px;margin:0 auto;img{width:100%;}"])}}]);
//# sourceMappingURL=8.28f35c72.chunk.js.map