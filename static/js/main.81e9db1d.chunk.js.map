{"version":3,"sources":["assets/images/Preloader.svg","components/common/Paginator/Paginator.module.css","assets/images/facesad.png","components/SVG-Components/ProfileSvg.tsx","components/SVG-Components/MessageSvg.tsx","components/SVG-Components/NewsSvg.tsx","components/SVG-Components/HistorySvg.tsx","components/SVG-Components/UsersSvg.tsx","redux/Auth/auth-select.ts","components/Navbar/Navbar.tsx","redux/dialogs-reducer.ts","components/Dialogs/Dialogs.jsx","components/Hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx","components/Preloader/Preloader.jsx","components/Users/UsersItem/UsersItem.tsx","components/common/Paginator/Paginator.tsx","components/Users/UsersFunc.tsx","redux/Users/users-reducer.ts","redux/Users/users-action.ts","redux/Users/users-select.ts","components/Users/UsersContainer.tsx","components/Profile/ProfileEdit/ProfileEdit.tsx","components/Profile/MyProfile/ProfileStatus/ProfileStatusHooks.tsx","components/Profile/MyProfile/Avatar/AvatarPage.tsx","components/Profile/MyProfile/Friends/Friends.tsx","components/Profile/MyProfile/ProfileSide/Canvas/CanvasTools.jsx","components/Profile/MyProfile/ProfileSide/Canvas/CanvasSide.jsx","assets/images/close-cross.svg","assets/images/camera.svg","assets/images/color-palette.svg","components/common/Tooltip/Tooltip.tsx","components/common/Data/createDate.js","components/Profile/MyProfile/ProfileSide/test.jsx","components/Profile/MyProfile/ProfileSide/ProfileSide.tsx","redux/Profile/profile-reducer.ts","redux/Profile/profile-actions.ts","redux/Profile/profile-select.ts","components/Profile/MyProfile/ProfileSide/ProfileSideContainer.tsx","components/Profile/MyProfile/MyProfile.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","assets/images/arrowSvg.tsx","components/Header/Header.tsx","redux/Auth/auth-reducer.ts","redux/Auth/auth-actions.ts","components/Header/HeaderContainer.tsx","components/Login/Login2.tsx","api/api-js.js","redux/Users/user-saga.ts","redux/Auth/auth-saga.ts","redux/app-reducer.ts","components/Gallery/Gallery.jsx","redux/Gallery/gallery-reducer.ts","redux/Gallery/gallery-action.ts","redux/Gallery/gallery-select.ts","components/Gallery/galleryContainer.jsx","components/Gallery/GalleryHistory/GalleryHistoryPagination/GalleryHistoryPagination.jsx","components/Gallery/GalleryHistory/GalleryHistoryItem.jsx","components/Gallery/GalleryHistory/GalleryHistoryDropDrag.jsx","components/Gallery/GalleryHistory/CustomDragLayer/BoxDragPreview.jsx","components/Gallery/GalleryHistory/CustomDragLayer/CustomDragLayer.jsx","components/Gallery/GalleryHistory/GalleryHistory.jsx","components/Profile/ProfileEdit/ProfileEditContainer.tsx","App.js","serviceWorker.js","redux/Profile/profile-saga.ts","redux/Gallery/gallery-saga.ts","redux/Sagas/root-saga.ts","redux/redux-store.ts","index.js","assets/images/user.png"],"names":["module","exports","ProfileSvg","height","width","fill","viewBox","aria-labelledby","d","MessageSvg","NewsSvg","id","HistorySvg","UsersSvg","isAuthSelect","state","auth","isAuth","messagesErrorSelect","messages","captchaSelect","captcha","Navbar","props","useSelector","console","log","NavWrapper","ListWrapper","NavLinkStyled","to","HomePageSvg","styled","nav","ul","div","NavLink","initialState","dialogs","name","message","newMessageText","dialogsReducer","action","type","newMessageBody","Dialogs","mapStateToProps","DialogsContainer","compose","connect","dialogsState","dialogsPage","dispatch","addMessage","addMessageActionCreator","Component","RedirectComponent","this","React","Preloader","style","src","Preloaders","alt","usersItem","ItemContainer","isFetching","PreloaderWrapper","Avatar","photo","User","ItemInfo","UsersInfo","UsersName","ItemStatus","status","followed","SubsButton","disabled","followingInProgress","some","onClick","unFollowUser","followUser","button","Paginator","portionNumber","usersPage","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","leftBorderPagination","paginationSize","rightBorderPagination","PaginationContainer","Pages","PaginationButton","setPortionNumber","onPageChanged","PagesItem","slice","map","p","index","key","className","cn","classes","selected","currentPage","length","UsersFunc","pageNumber","getCurrentPageUsers","whatFriends","useEffect","getUsers","users","arr","UsersContainerPreloader","UsersHeaderPreloader","PaginationContainerPreloader","item","ItemContainerPreloader","UsersContainer","UsersHeader","exact","HeaderUsersItem","allUsersCount","friendsCount","UsersWrapper","u","UsersItem","photos","small","li","gradient","keyframes","randomFriends","isUserSubs","isFriends","usersReducer","userId","subs","currentTotalCount","filter","boolean","count","number","follow","unFollow","setUsers","toggleIsFetching","toggleFollowingProgress","setFriendsCount","selectAllUsersCount","selectFriendsCount","selectRandomFriends","usersContainer","whatUsers","path","render","ProfileEdit","validationSchema","yup","shape","fullName","required","aboutMe","lookingForAJobDescription","contacts","object","obj","Object","keys","profilePage","forEach","url","contactsValidation","EditorWrapper","isSaveProfile","SaveProfileSuccess","Forms","initialValues","onSubmit","values","saveProfile","errors","touched","handleChange","handleBlur","isValid","dirty","FormsItem","Label","Input","onChange","onBlur","Error","component","entries","ButtonWrapper","Button","Header","section","label","Field","ErrorMessage","ProfileStatusHook","useState","editMode","setEditMode","setStatus","isOwner","updateStatus","onStatusChange","e","currentTarget","innerHTML","value","editModeDeactivated","StatusOff","wordBreak","StatusActivated","useRef","statusWrapper","el","range","document","createRange","selectNodeContents","sel","window","getSelection","removeAllRanges","addRange","selectElementContents","current","addEventListener","handleClickOutside","event","contains","target","removeEventListener","StatusActiveWrapper","ref","onKeyPress","preventDefault","border","padding","borderRadius","html","innerRef","StatusButton","AvatarPage","AvatarImg","large","UserPhoto","PhotoMenuWrapper","PhotoMenu","PhotoLink","files","savePhoto","LinkLabel","htmlFor","AvatarAsideWrapper","getUsersSubs","AvatarAside","isFollowed","aside","input","Friends","getRandomFriends","FriendsContainer","FriendsHeader","FriendsWrapper","FriendsItem","FriendsImg","user","FriendsName","substr","NoUsers","CanvasTools","canvasTools","lineWidth","lineColor","opacity","canvasRef","color","opacityBrush","draw","useCallback","ctx","getContext","rect","getBoundingClientRect","scale","devicePixelRatio","beginPath","strokeStyle","globalAlpha","shadowBlur","lineCap","lineJoin","moveTo","lineTo","stroke","CanvasToolsWrapper","CanvasBrushWrapper","CanvasBrush","min","max","step","canvas","CanvasSide","canvasWrapperRef","prevValues","isDrawing","isMouseDown","setCanvas","resizeCanvas","x","y","CanvasWrapper","setFileImg","toDataURL","setTextarea","setFieldValue","Canvas","onMouseOver","onMouseOut","onMouseUp","onMouseDown","pos","nativeEvent","offsetX","offsetY","onMouseMove","clearRect","_extends","assign","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref","svgRef","title","enableBackground","xmlSpace","ForwardRef","forwardRef","TooltipComponent","isShow","setShow","tooltipRef","place","getTooltipPosition","coords","getBox","contentBox","right","innerWidth","TooltipTopLeft","TooltipTop","TooltipBottomLeft","TooltipBottom","TooltipLeft","TooltipRight","TooltipRender","useMemo","Enter","TooltipWrapper","Target","onMouseEnter","onMouseLeave","children","margin","undefined","text","Tooltip","createDate","newData","Date","getHours","getMinutes","getSeconds","TestArea","focus","ProfileSide","isCanvas","isShowTextarea","fileImg","textArea","inputFile","showTextarea","handleClickTextArea","IconsWrapper","PhotoSvgIcon","URL","createObjectURL","fileImages","graffiti","Graffiti","ProfileSideHeader","file","images","onSubmitProps","addPost","resetForm","ShowTextarea","resize","placeholder","onFocus","ToolsShow","display","PostTools","alignItems","ImgUserWrapper","profile","PostField","Tools","FileImgWrapper","Img","SvgWrapper","Icon","CanvasContainer","CanvasSideWrapper","ProfileSideContainer","PhotosSvg","GraffitiSvg","Exit","posts","postId","profileReducer","payload","newPost","date","lw","findIndex","w","setUserStatus","savePhotoSuccess","selectProfile","selectIsSaveProfile","selectPosts","deletePost","isAnimation","setAnimation","transitions","useTransition","immediate","from","transform","enter","leave","PostContent","PostHeader","Info","ImgWrapper","InfoDateName","PostHeaderInfo","PostMessage","PostImg","createInfo","img","MyProfile","isMoreInfo","openMoreInfo","SectionWrapper","LeftBlock","RightBlock","PageBlock","PageTop","userStatus","ProfileInfo","ProfileInfoItem","InfoLabel","InfoLabeled","lookingForAJob","MoreInfo","prevState","href","BorderRight","SectionWrapperPreloader","LeftBlockPreloader","AvatarPreloader","FriendsContainerPreloader","RightBlockPreloader","PageBlockPreloader","ProfileSidePreloader","a","Profile","ProfileContainer","authId","getProfile","getUserStatus","updateUserStatus","withRouter","refreshProfile","match","params","Number","history","ArrowSvg","login","loginOut","photoSmall","isOpenModal","setOpenModal","loginBlockRef","HeaderWrapper","Container","Logo","LoginWrapper","LoginTrue","LoginName","LoginPhotoSmall","ArrowSvgWrapper","LoginFalse","CSSTransition","in","classNames","timeout","mountOnEnter","unmountOnExit","DropDownWrapper","DropDownItem","header","span","translateYtrue","rotate","authReducer","createReducer","email","data","error","setErrorMessages","HeaderContainer","profilePhotos","Login","password","FormWrapper","errorMessage","ErrorWrapper","List","FormContainer","checkbox","loginAuth","autoComplete","CaptchaWrapper","rememberMe","instance","axios","withCredentials","baseURL","headers","usersAPI","get","then","response","catch","post","delete","put","formData","FormData","append","authApi","galleryApi","getUsersWatcher","getUsersWorker","getCurrentPageUsersWatcher","getCurrentPageUsersWorker","getAllUsersCount","getAllFriendsCount","followWatcher","followWorker","unFollowWatcher","unFollowWorker","getRandomFriendsWatcher","getRandomFriendsWorker","getUsersSubsWorker","rootSaga","throttle","actions","items","totalCount","takeEvery","resultCode","randomNumber","randomIndex","floor","random","j","fork","authWatcher","getAuthWorker","getProfilePhoto","setLoginWorker","captchaWorker","logoutWorker","initializeWatcher","initializeWorker","initialized","appReducer","Gallery","NewsWrapper","imgInfo","imgNews","getImg","GalleryContainer","main","article","SET_IMAGES","GET_IMG","FIRST_RENDER","SET_STATUS","SET_STATUS_ERROR","imgData","galleryHistory","firstRender","galleryReducer","image_url","time","imgName","username","flag","setGalleryStatus","setImages","isFirstRenderSelect","galleryPage","getImgInfo","createSelector","downsized_large","getStatusSelect","getStatusError","isRender","isFirstRender","GalleryHistoryPagination","historyArr","setCurrentPages","rightBorderPageSize","leftBorderPageSize","paginationCount","setPaginationCount","PagesItems","GalleryHistoryItem","deleteHistoryItem","useDrag","imgItem","end","monitor","dropResult","getDropResult","collect","isDragging","drag","preview","getEmptyImage","captureDraggingState","Item","isDrag","ItemImg","offsetWidth","GalleryHistoryDropDrag","useDrop","accept","drop","isOver","canDrop","DropContainer","css","styles","WebkitTransform","BoxDragPreview","memo","layerStyles","position","pointerEvents","zIndex","left","top","getItemStyles","initialOffset","currentOffset","isSnapToGrid","CustomDragLayer","useDragLayer","getItem","itemType","getItemType","getInitialSourceClientOffset","getSourceClientOffset","DndProvider","backend","HTML5Backend","HistoryWrapper","minWidth","Description","FaceSad","face","App","initialize","navbarState","appPage","Boolean","location","hostname","getProfileWatcher","getProfileWorker","getUserStatusWatcher","getUserStatusWorker","updateUserStatusWatcher","updateUserStatusWorker","savePhotoWatcher","savePhotoWorker","saveProfileWatcher","saveProfileWorker","delay","getImgWatcher","getImgWorker","spawn","gallery","reducers","combineReducers","form","formReducer","sagaMiddleware","CreateSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","run","ReactDOM","basename","process","getState","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.81e9db1d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Preloader.f685b5dd.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selected\":\"Paginator_selected__1yNzD\",\"pages\":\"Paginator_pages__32_gA\",\"paginatorWrapper\":\"Paginator_paginatorWrapper__23Ord\"};","module.exports = __webpack_public_path__ + \"static/media/facesad.b04d99fa.png\";","import React from 'react';\r\n\r\ntype PropsType = {\r\n    height: string\r\n    width: string\r\n    fill: string\r\n}\r\n\r\nconst ProfileSvg: React.FC<PropsType> = ({height, width, fill}) => {\r\n    return (\r\n        <svg width={width} height={height} fill={fill} viewBox=\"0 0 512 512\" aria-labelledby='profilesvg'>\r\n            <path d=\"M497.027,155.314l-230-152c-6.688-4.419-15.367-4.419-22.055,0l-230,152C9.37,159.016,6,165.284,6,172v320\r\n\t\t\tc0,11.046,8.954,20,20,20c5.833,0,444.336,0,460,0c11.046,0,20-8.954,20-20V172C506,165.284,502.63,159.016,497.027,155.314z\r\n\t\t\t M296,472h-80V352h80V472z M466,472H336V332c0-11.046-8.954-20-20-20H196c-11.046,0-20,8.954-20,20v140H46V182.755L256,43.973\r\n\t\t\tl210,138.782V472z\"/>\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default ProfileSvg;","import React from 'react';\r\n\r\ntype PropsType = {\r\n    height: string\r\n    width: string\r\n    fill: string\r\n}\r\n\r\nconst MessageSvg: React.FC<PropsType> = ({height, width, fill}) => {\r\n    return (\r\n        <svg width={width} height={height} fill={fill} viewBox=\"0 0 511.096 511.096\" aria-labelledby='messagesvg'>\r\n            <path d=\"m74.414 480.548h-36.214l25.607-25.607c13.807-13.807 22.429-31.765 24.747-51.246-59.127-38.802-88.554-95.014-88.554-153.944 0-108.719 99.923-219.203 256.414-219.203 165.785 0 254.682 101.666 254.682 209.678 0 108.724-89.836 210.322-254.682 210.322-28.877 0-59.01-3.855-85.913-10.928-25.467 26.121-59.973 40.928-96.087 40.928z\"/>\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default MessageSvg;","import React from 'react';\r\n\r\ntype PropsType = {\r\n    height: string\r\n    width: string\r\n    fill: string\r\n}\r\n\r\nconst NewsSvg: React.FC<PropsType> = ({height, width, fill}) => {\r\n    return (\r\n        <svg width={width} height={height} fill={fill} viewBox=\"0 0 512 512\" aria-labelledby='profilesvg'>\r\n            <path id=\"XMLID_1351_\" d=\"m502 0h-404c-5.522 0-10 4.477-10 10v44h-34c-5.522 0-10 4.478-10 10v54h-34c-5.523 0-10 4.478-10 10v330c0 29.775 24.225 54 54 54h404c29.775 0 54-24.225 54-54v-448c0-5.523-4.478-10-10-10zm-10 458c0 18.748-15.252 34-34 34h-362.088c7.55-9.29 12.088-21.123 12.088-34v-134.997c0-5.522-4.478-10-10-10s-10 4.478-10 10v134.997c0 18.748-15.252 34-34 34s-34-15.252-34-34v-320h24v310c0 5.522 4.478 10 10 10s10-4.478 10-10v-374h24v159.003c0 5.523 4.478 10 10 10s10-4.477 10-10v-213.003h384z\"/><path id=\"XMLID_1376_\" d=\"m146 158h308c5.522 0 10-4.477 10-10v-72c0-5.522-4.478-10-10-10h-308c-5.523 0-10 4.478-10 10v72c0 5.523 4.477 10 10 10zm10-72h288v52h-288z\"/><path id=\"XMLID_1459_\" d=\"m146 398h154c5.522 0 10-4.478 10-10v-192c0-5.523-4.478-10-10-10h-154c-5.523 0-10 4.477-10 10v192c0 5.522 4.477 10 10 10zm10-192h134v172h-134z\"/><path id=\"XMLID_1460_\" d=\"m454 186h-106c-5.522 0-10 4.477-10 10s4.478 10 10 10h106c5.522 0 10-4.477 10-10s-4.478-10-10-10z\"/><path id=\"XMLID_1476_\" d=\"m454 234h-106c-5.522 0-10 4.477-10 10s4.478 10 10 10h106c5.522 0 10-4.477 10-10s-4.478-10-10-10z\"/><path id=\"XMLID_1533_\" d=\"m454 282h-106c-5.522 0-10 4.478-10 10s4.478 10 10 10h106c5.522 0 10-4.478 10-10s-4.478-10-10-10z\"/><path id=\"XMLID_1535_\" d=\"m454 330h-106c-5.522 0-10 4.478-10 10s4.478 10 10 10h106c5.522 0 10-4.478 10-10s-4.478-10-10-10z\"/><path id=\"XMLID_1545_\" d=\"m454 378h-106c-5.522 0-10 4.478-10 10s4.478 10 10 10h106c5.522 0 10-4.478 10-10s-4.478-10-10-10z\"/><path id=\"XMLID_1550_\" d=\"m146 446h308c5.522 0 10-4.478 10-10s-4.478-10-10-10h-308c-5.523 0-10 4.478-10 10s4.477 10 10 10z\"/><path id=\"XMLID_1572_\" d=\"m98.5 268c-2.63 0-5.21 1.069-7.07 2.93-1.86 1.86-2.93 4.44-2.93 7.07 0 2.64 1.069 5.21 2.93 7.069 1.86 1.87 4.44 2.931 7.07 2.931s5.21-1.06 7.069-2.931c1.86-1.859 2.931-4.439 2.931-7.069s-1.07-5.21-2.931-7.07c-1.859-1.861-4.439-2.93-7.069-2.93z\"/>\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default NewsSvg;","import React from 'react';\r\n\r\ntype PropsType = {\r\n    height: string\r\n    width: string\r\n    fill: string\r\n}\r\n\r\nconst HistorySvg: React.FC<PropsType> = ({height, width, fill}) => {\r\n    return (\r\n        <svg width={width} height={height} fill={fill} viewBox=\"0 0 512 512\" aria-labelledby='historysvg'>\r\n            <path d=\"m276 138v109.716l72.809 72.809c7.811 7.811 7.811 20.474 0 28.284-7.811 7.811-20.474 7.81-28.284 0l-78.667-78.667c-3.751-3.75-5.858-8.838-5.858-14.142v-118c0-11.046 8.954-20 20-20s20 8.954 20 20zm58.667-138h-157.334c-41.89 0-83.217 14.722-116.284 43.478v-23.478c0-11.046-8.954-20-20-20s-20 8.954-20 20v78.667c0 11.046 9.031 20 20 20h78.667c11.046 0 20-8.954 20-20s-8.954-20-20-20h-37.833c25.314-24.405 59.485-38.667 95.45-38.667h157.333c75.727 0 137.334 61.607 137.334 137.333v157.333c0 75.727-61.607 137.334-137.333 137.334h-157.334c-75.726 0-137.333-61.607-137.333-137.333v-78.667c0-11.046-8.954-20-20-20s-20 8.954-20 20v78.667c0 97.782 79.551 177.333 177.333 177.333h157.333c97.783 0 177.334-79.551 177.334-177.333v-157.334c0-97.782-79.551-177.333-177.333-177.333z\"/>\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default HistorySvg;","import React from 'react';\r\n\r\ntype PropsType = {\r\n    height: string\r\n    width: string\r\n    fill: string\r\n}\r\n\r\nconst UsersSvg: React.FC<PropsType> = ({height, width, fill}) => {\r\n    return (\r\n        <svg width={width} height={height} fill={fill} viewBox=\"0 0 512 512\" aria-labelledby='usersSvg'>\r\n            <path d=\"M437.019,310.826c-28.355-28.355-62.197-49.227-99.125-61.652c34.055-25.17,56.183-65.596,56.183-111.097\r\n\t\t\tC394.078,61.941,332.137,0,256,0S117.922,61.941,117.922,138.077c0,45.502,22.128,85.928,56.183,111.097\r\n\t\t\tc-36.928,12.424-70.768,33.296-99.125,61.652C26.629,359.178,0,423.466,0,491.846C0,502.977,9.023,512,20.154,512h471.691\r\n\t\t\tc11.131,0,20.154-9.023,20.154-20.154C512,423.466,485.371,359.178,437.019,310.826z M158.232,138.077\r\n\t\t\tc0-53.91,43.858-97.768,97.769-97.768c53.911,0,97.769,43.858,97.769,97.768c0,53.91-43.858,97.768-97.769,97.768\r\n\t\t\tC202.09,235.846,158.232,191.987,158.232,138.077z M41.243,471.691C51.437,362.172,143.863,276.154,256,276.154\r\n\t\t\ts204.563,86.017,214.757,195.537H41.243z\"/>\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default UsersSvg;","import {AppStateType} from \"../redux-store\";\r\n\r\nexport const isAuthSelect = (state: AppStateType) => {\r\n    return state.auth.isAuth\r\n}\r\n\r\nexport const messagesErrorSelect = (state:AppStateType) => {\r\n    return state.auth.messages\r\n}\r\n\r\nexport const captchaSelect = (state:AppStateType) => {\r\n    return state.auth.captcha\r\n}","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport styled from \"styled-components/macro\";\r\nimport ProfileSvg from \"../SVG-Components/ProfileSvg\";\r\nimport MessageSvg from \"../SVG-Components/MessageSvg\";\r\nimport NewsSvg from \"../SVG-Components/NewsSvg\";\r\nimport HistorySvg from \"../SVG-Components/HistorySvg\";\r\nimport UsersSvg from \"../SVG-Components/UsersSvg\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {isAuthSelect} from \"../../redux/Auth/auth-select\";\r\n\r\n\r\ntype  Props = {\r\n\r\n}\r\nconst Navbar:React.FC<Props> = (props) => {\r\n\r\n    const isAuth = useSelector(isAuthSelect)\r\n    console.log('renderNavbar')\r\n\r\n    return ( isAuth ?\r\n        <NavWrapper>\r\n            <ListWrapper>\r\n                <li>\r\n                    <NavLinkStyled to=\"/profile\">\r\n                        <HomePageSvg>\r\n                            <ProfileSvg height={'100%'} width={'100%'} fill={'#9ab1c6'}/>\r\n                        </HomePageSvg>\r\n                        <div><span>Профиль</span></div>\r\n                    </NavLinkStyled>\r\n\r\n                </li>\r\n                <li>\r\n                    <NavLinkStyled to=\"/dialogs\">\r\n                        <HomePageSvg>\r\n                            <MessageSvg height={'100%'} width={'100%'} fill={'#9ab1c6'}/>\r\n                        </HomePageSvg>\r\n                        <span>Сообщения</span>\r\n                    </NavLinkStyled>\r\n                </li>\r\n                <li>\r\n                    <NavLinkStyled to=\"/news\">\r\n                        <HomePageSvg>\r\n                            <NewsSvg height={'100%'} width={'100%'} fill={'#9ab1c6'}/>\r\n                        </HomePageSvg>\r\n                        <span>Новости</span>\r\n                    </NavLinkStyled>\r\n                </li>\r\n                <li>\r\n                    <NavLinkStyled to=\"/history\">\r\n                        <HomePageSvg>\r\n                            <HistorySvg height={'100%'} width={'100%'} fill={'#9ab1c6'}/>\r\n                        </HomePageSvg>\r\n                        <span>История</span>\r\n                    </NavLinkStyled>\r\n                </li>\r\n                <li>\r\n                    <NavLinkStyled to=\"/users\">\r\n                        <HomePageSvg>\r\n                            <UsersSvg height={'100%'} width={'100%'} fill={'#9ab1c6'}/>\r\n                        </HomePageSvg>\r\n                        <span>Пользователи</span>\r\n                    </NavLinkStyled>\r\n                </li>\r\n            </ListWrapper>\r\n        </NavWrapper>\r\n       : null)\r\n}\r\n\r\nexport default Navbar\r\n\r\n\r\nconst NavWrapper = styled.nav`\r\n    grid-area: n;\r\n    border-radius: 5px;\r\n    text-decoration: none;\r\n    height: 100%;\r\n    a {\r\n        text-decoration: none;\r\n        color: #2a5885;\r\n        font-weight: 400;\r\n    }\r\n`\r\n\r\nconst ListWrapper = styled.ul`\r\n  li {\r\n    margin-bottom: 15px;\r\n    cursor: pointer;\r\n    border-radius: 3px;\r\n    padding: 5px;\r\n  }\r\n  li:hover {\r\n    background-color: #d3d9de;\r\n  }\r\n  \r\n  li:last-child {\r\n    margin-bottom: 0;\r\n    margin-top: 80px;\r\n  }\r\n`\r\n\r\nconst HomePageSvg = styled.div`\r\n  width: 18px;\r\n  margin-right: 10px;\r\n`\r\n\r\nconst NavLinkStyled = styled (NavLink)`\r\nheight: 100%;\r\nwidth: 100%;\r\ndisplay: flex;\r\nalign-items: center;\r\n&.active{\r\ncolor: #1e7fea;\r\n}\r\n\r\n`\r\n  \r\n","const ADD_MESSAGE = 'ADD-MESSAGE'\r\n\r\n\r\ntype DialogType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\ntype MessagesType = {\r\n    id: string\r\n    message: string\r\n}\r\n\r\nlet initialState = {\r\n\r\n    dialogs: [\r\n        {id: '1', name: 'Andrew',},\r\n        {id: '2', name: 'Aik',},\r\n        {id: '3', name: 'Stasyan',},\r\n        {id: '4', name: 'Dimas',},\r\n        {id: '5', name: 'Musa',},\r\n        {id: '6', name: 'Colbasa',},\r\n    ] as Array<DialogType>,\r\n\r\n\r\n    messages: [\r\n        {id: '1', message: 'Hi',},\r\n        {id: '2', message: 'How are you?',},\r\n        {id: '3', message: 'Good luck',},\r\n        {id: '4', message: 'bye',},\r\n        {id: '5', message: 'i learn react',},\r\n        {id: '6', message: 'Sochnaya',},\r\n\r\n    ] as Array<MessagesType>,\r\n\r\n    newMessageText: 'ss'\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\n const dialogsReducer = (state = initialState, action: ActionType): InitialStateType => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            return  {\r\n                ...state, messages: [...state.messages, {id: '1', message: action.newMessageBody,}]\r\n\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\ntype ActionType = ReturnType<typeof addMessageActionCreator>\r\n\r\nexport const addMessageActionCreator = (newMessageBody: string) => ({type: ADD_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    if (!props.isAuth) return <Redirect to={'/login'}/>\r\n    return (\r\n        <h1>В разработке</h1>\r\n    )\r\n\r\n};\r\n\r\nexport default Dialogs;\r\n\r\n","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {addMessageActionCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {WithAuthRedirect} from \"../Hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n    return {\r\n        dialogsState: state.dialogsPage,\r\n        newMessageText: state.dialogsPage.newMessageText,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: (newMessageBody) => {\r\n            dispatch (addMessageActionCreator (newMessageBody))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst DialogsContainer = compose (\r\n    connect (mapStateToProps, mapDispatchToProps),\r\n    WithAuthRedirect\r\n) (Dialogs)\r\n\r\nexport default DialogsContainer;\r\n\r\n","import React, {Component} from 'react';\r\nimport Preloaders from '../../assets/images/Preloader.svg'\r\n\r\nclass Preloader extends Component {\r\n    render() {\r\n        return (\r\n            <img style={{width: '100%'}} src={Preloaders} alt={'#'}/>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Preloader;","import React from \"react\";\r\nimport User from '../../../assets/images/user.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport styled from \"styled-components/macro\";\r\nimport Preloader from \"../../Preloader/Preloader\";\r\n\r\ntype PropsType = {\r\n    followingInProgress: Array<number>\r\n    followUser: (userId: number) => void\r\n    unFollowUser: (userId: number) => void\r\n    status: string\r\n    name: string\r\n    followed: boolean\r\n    photo: string | null\r\n    id: number | null\r\n    isFetching: boolean\r\n}\r\n\r\n\r\nconst usersItem: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <ItemContainer>\r\n            {!props.isFetching ? <>\r\n                <Avatar>\r\n                    <NavLink to={`/profile/${props.id}`}>\r\n                        <img src={props.photo != null ? props.photo : User} alt={'#'}/>\r\n                    </NavLink>\r\n                </Avatar>\r\n                <ItemInfo>\r\n                    <UsersInfo>\r\n                        <UsersName>\r\n                            <p>{props.name}</p>\r\n                        </UsersName>\r\n                        <ItemStatus>{props.status ? props.status : 'Нет статуса'}</ItemStatus>\r\n                    </UsersInfo>\r\n                    {\r\n                        props.followed\r\n\r\n                            ? <SubsButton disabled={props.followingInProgress.some(id => id === props.id)} onClick={() => {\r\n                                props.unFollowUser(props.id as number)\r\n                            }}>Убрать из друзей</SubsButton>\r\n\r\n                            : <SubsButton disabled={props.followingInProgress.some(id => id === props.id)} onClick={() => {\r\n                                props.followUser(props.id as number)\r\n                            }}>Добавить в друзья</SubsButton>\r\n                    }\r\n                </ItemInfo>\r\n            </> : <PreloaderWrapper><Preloader/></PreloaderWrapper>\r\n            }\r\n        </ItemContainer>\r\n    )\r\n}\r\n\r\nexport default usersItem\r\n\r\nconst ItemContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 12px 0;\r\n    border-bottom: 1px solid #e7e8ec;\r\n    min-height: 120px;\r\n`\r\n\r\nconst Avatar = styled.div`\r\n  margin-right: 15px;\r\n  width: 100px;\r\n  min-width: 100px;\r\n  min-height: 100px;\r\n  img {\r\n     width: 100%;\r\n     border-radius: 50%;\r\n     background-color: #f0f2f5;\r\n  }\r\n`\r\n\r\nconst ItemInfo = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    color: #2a5885;\r\n    font-weight: 700;\r\n    border: 1px solid #ffffff;\r\n    border-radius: 5px;\r\n    max-width: 100%;\r\n    overflow: hidden;\r\n \r\n`\r\n\r\nconst UsersInfo = styled.div`\r\n  \r\n`\r\n\r\nconst UsersName = styled.div`\r\n   margin-bottom: 12px;\r\n   p {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    line-height: 1.5em;\r\n   }\r\n`\r\n\r\nconst ItemStatus = styled.div`\r\n   color: #656565;\r\n   font-weight: 400;\r\n   margin-bottom: 5px;\r\n   overflow: hidden;\r\n   line-height: 1.5em;\r\n   text-overflow: ellipsis;\r\n  \r\n`\r\n\r\nconst SubsButton = styled.button`\r\n   background: none;\r\n   border: none;\r\n   color: #2a5885;\r\n   font-weight: 400;\r\n   padding: 0;\r\n   align-self: start;\r\n`\r\n\r\nconst PreloaderWrapper = styled.div`\r\n  width: 110px;\r\n  display: inline-block;\r\n`","import React from 'react';\r\nimport classes from \"./Paginator.module.css\";\r\nimport cn from 'classnames'\r\nimport styled from \"styled-components/macro\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\n\r\ntype PropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    paginationSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    setPortionNumber: (number: number) => void\r\n}\r\n\r\n\r\nconst Paginator: React.FC<PropsType> = (props) => {\r\n    const portionNumber = useSelector((state: AppStateType) => state.usersPage.portionNumber)\r\n\r\n    let pagesCount = Math.ceil (props.totalUsersCount / props.pageSize)\r\n    let pages = [] as Array<number>;\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push (i)\r\n    }\r\n\r\n    const leftBorderPagination = (portionNumber - 1) * props.paginationSize + 1\r\n    const rightBorderPagination = props.paginationSize * portionNumber\r\n\r\n    // const portionCount = Math.ceil (pagesCount / props.paginationSize)\r\n\r\n    return (\r\n        <PaginationContainer>\r\n            <Pages>\r\n                <PaginationButton disabled={portionNumber === 1} onClick={() => {\r\n                    props.setPortionNumber(portionNumber - 1)\r\n                    props.onPageChanged (leftBorderPagination - 1)\r\n                }}>«</PaginationButton>\r\n                <PagesItem>\r\n                {\r\n                    pages.slice (leftBorderPagination - 1, rightBorderPagination)\r\n                        .map ((p,index) => <div\r\n                             key={index}\r\n                             className={cn({[classes.selected]: props.currentPage === p})}\r\n                             onClick={() => {\r\n                                props.onPageChanged (p)\r\n                            }}>{p}</div>)\r\n                }\r\n                </PagesItem>\r\n                 <PaginationButton disabled={rightBorderPagination > pages.length} onClick={() => {\r\n                     props.setPortionNumber(portionNumber + 1)\r\n                    props.onPageChanged (rightBorderPagination + 1)\r\n                }}>»</PaginationButton>\r\n            </Pages>\r\n        </PaginationContainer>\r\n    );\r\n};\r\n\r\nexport default Paginator;\r\n\r\nconst PaginationContainer = styled.div`\r\n  display: flex;\r\n`\r\n\r\nconst Pages = styled.div`\r\n    display: flex;\r\n    margin: 0 auto;\r\n`\r\n\r\nconst PagesItem = styled.div`\r\n    display: flex;\r\n    padding: 10px 0;\r\n    cursor: pointer;\r\n     div {\r\n       padding: 10px;\r\n       border-left: 1px solid #e7e8ec;\r\n       border-top: 1px solid #e7e8ec;\r\n       border-bottom: 1px solid #e7e8ec;\r\n    }\r\n    div:first-child {\r\n      border-left: none;\r\n    }\r\n`\r\n\r\nconst PaginationButton = styled.button`\r\n    background: none;\r\n    border: 1px solid #e7e8ec;\r\n    border-radius: 2px;\r\n    margin: 10px 0;\r\n    padding: 10px;\r\n`\r\n","import React, {useEffect} from 'react';\r\nimport UsersItem from \"./UsersItem/UsersItem\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport {UserType} from '../../Types/Types';\r\nimport {NavLink} from 'react-router-dom';\r\nimport styled, {keyframes} from \"styled-components/macro\";\r\n\r\ntype PropsType = {\r\n    whatFriends: boolean | null\r\n    isFetching: boolean\r\n    allUsersCount: number\r\n    friendsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    totalUsersCount: number\r\n    users: Array<UserType>\r\n    paginationSize: number\r\n    followingInProgress: Array<number>\r\n    followUser: (userId: number) => void\r\n    unFollowUser: (userId: number) => void\r\n    getUsers: (currentPage: number, pageSize: number, whatUsers: boolean | null) => void\r\n    getCurrentPageUsers: (pageNumber: number, pageSize: number, whatUsers: boolean | null) => void\r\n    setPortionNumber: (number: number) => void\r\n\r\n}\r\n\r\nconst UsersFunc: React.FC<PropsType> = (props) => {\r\n\r\n\r\n    const onPageChanged = (pageNumber: number): void => {\r\n        props.getCurrentPageUsers(pageNumber, props.pageSize, props.whatFriends)\r\n    }\r\n\r\n    useEffect(() => {\r\n        onPageChanged(1)\r\n        props.setPortionNumber(1)\r\n    }, [props.whatFriends])\r\n\r\n    useEffect(() => {\r\n        props.getUsers(props.currentPage, props.pageSize, props.whatFriends)\r\n    }, [props.currentPage])\r\n\r\n    if (props.users.length === 0){\r\n        const arr = []\r\n        for (let i = 0; i < props.pageSize; i++){\r\n            arr.push(i)\r\n        }\r\n        return (\r\n            <>\r\n                <UsersContainerPreloader>\r\n                    <UsersHeaderPreloader/>\r\n                    <PaginationContainerPreloader/>\r\n                    {arr.map((item,index) => {\r\n                       return <ItemContainerPreloader key={index}/>\r\n                    })}\r\n                    <PaginationContainerPreloader/>\r\n                </UsersContainerPreloader>\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n    let userItem = () => {\r\n        return props.users.map(u => <UsersItem\r\n                isFetching={props.isFetching}\r\n                followUser={props.followUser}\r\n                unFollowUser={props.unFollowUser}\r\n                followed={u.followed}\r\n                photo={u.photos.small}\r\n                key={u.id}\r\n                name={u.name}\r\n                status={u.status}\r\n                id={u.id}\r\n                followingInProgress={props.followingInProgress}\r\n            />\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <UsersContainer>\r\n            <UsersHeader>\r\n                <NavLinkStyled exact to={'/users'}>\r\n                    <HeaderUsersItem>\r\n                        <p>Все пользователи:</p>\r\n                        <span>{props.allUsersCount}</span>\r\n\r\n                    </HeaderUsersItem>\r\n                </NavLinkStyled>\r\n                <NavLinkStyled exact to={'/users/friends'}>\r\n                    <HeaderUsersItem>\r\n                        <p>Ваши друзья:</p>\r\n                        <span>{props.friendsCount}</span>\r\n                    </HeaderUsersItem>\r\n                </NavLinkStyled>\r\n            </UsersHeader>\r\n            {props.friendsCount!== 0 || props.users.length !== 0 ? <>\r\n                {(props.totalUsersCount / props.pageSize) + 1 > 2 ?\r\n                    <Paginator totalUsersCount={props.totalUsersCount}\r\n                               pageSize={props.pageSize}\r\n                               currentPage={props.currentPage}\r\n                               onPageChanged={onPageChanged}\r\n                               paginationSize={props.paginationSize}\r\n                               setPortionNumber={props.setPortionNumber}\r\n                    /> : null\r\n                }\r\n                <UsersWrapper>\r\n                    {userItem()}\r\n                </UsersWrapper>\r\n                {(props.totalUsersCount / props.pageSize) + 1 > 2 ?\r\n                    <Paginator totalUsersCount={props.totalUsersCount}\r\n                               pageSize={props.pageSize}\r\n                               currentPage={props.currentPage}\r\n                               onPageChanged={onPageChanged}\r\n                               paginationSize={props.paginationSize}\r\n                               setPortionNumber={props.setPortionNumber}\r\n                    /> : null\r\n                }\r\n            </> : <UsersWrapper><NavLink to={'/users'}>Пользователь еще не добавил друзей</NavLink></UsersWrapper>\r\n            }\r\n\r\n        </UsersContainer>\r\n    )\r\n};\r\n\r\n\r\nexport default UsersFunc;\r\n\r\n\r\nconst UsersContainer = styled.div`\r\n  background-color: white;\r\n  box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n  border-radius: 4px;\r\n \r\n`\r\nconst UsersWrapper = styled.ul`\r\n  padding: 0 20px;\r\n`\r\n\r\nconst UsersHeader = styled.ul`\r\n  background-color: #fafbfc;\r\n  border-bottom: 1px solid #e7e8ec;\r\n  padding: 0 10px;\r\n  margin: 0;\r\n  display: flex;\r\n`\r\n\r\n\r\nconst HeaderUsersItem = styled.li`\r\n padding: 18px 6px 20px;\r\n display: flex;\r\n p {\r\n  margin-right: 6px;\r\n }\r\n`\r\n\r\nconst NavLinkStyled = styled(NavLink)`\r\n  color: #656565;\r\n  margin-right: 10px;\r\n  &.active {\r\n    color: black;\r\n    border-bottom: 2px solid #5181b8;\r\n     :hover {\r\n     border-bottom: 2px solid #5181b8;\r\n    }\r\n  }\r\n    :hover {\r\n    border-bottom: 2px solid #c5d0db\r\n    }\r\n`\r\n// const Title = styled < { isActive: boolean } > Header`\r\n//   color: ${(props) => (props.isActive ? props.theme.primaryColor : props.theme.secondaryColor)}\r\n// `;\r\n\r\n\r\n// Стили для Прелоудера\r\n\r\nconst gradient = keyframes`\r\n    0%{\r\n      background-position: 0 10%;\r\n    }\r\n    50%{\r\n       background-position: 0 100%;\r\n    }\r\n    100%{\r\n       background-position: 0 10%;\r\n    }\r\n`;\r\n\r\nconst UsersContainerPreloader = styled.div`\r\n  background: linear-gradient(51deg, rgb(215,215,215) 0%, rgba(255,255,255,1) 20%, rgb(201,200,200) 100%); /* w3c */\r\n  background-size: 450% 460%;\r\n  animation: ${gradient} 1.5s linear infinite;;\r\n  box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n  border-radius: 4px;\r\n \r\n`\r\n\r\nconst UsersHeaderPreloader = styled.ul`\r\n  background: linear-gradient(51deg, rgb(215,215,215) 0%, rgba(255,255,255,1) 20%, rgb(201,200,200) 100%); /* w3c */\r\n  background-size: 450% 460%;\r\n  animation: ${gradient} 1.5s linear infinite;;\r\n  border-bottom: 1px solid #e7e8ec;\r\n  min-height: 56px;\r\n  min-width: 785px ;\r\n  padding: 0 10px;\r\n  margin: 0;\r\n  display: flex;\r\n`\r\nconst ItemContainerPreloader = styled.div`\r\n    background: linear-gradient(51deg, rgb(215,215,215) 0%, rgba(255,255,255,1) 20%, rgb(201,200,200) 100%); /* w3c */\r\n    background-size: 450% 460%;\r\n    animation: ${gradient} 1.5s linear infinite;;\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 12px 0;\r\n    border-bottom: 1px solid #e7e8ec;\r\n    min-height: 120px;\r\n`\r\n\r\nconst PaginationContainerPreloader = styled.div`\r\n  min-width: 785px;\r\n  min-height: 61px;\r\n  background: linear-gradient(51deg, rgb(215,215,215) 0%, rgba(255,255,255,1) 20%, rgb(201,200,200) 100%); /* w3c */\r\n  background-size: 450% 460%;\r\n  animation: ${gradient} 1.5s linear infinite;;\r\n`","import {UserType} from \"../../Types/Types\";\r\nimport * as actions from \"./users-action\";\r\n\r\n\r\n\r\nexport const FOLLOW = 'FOLLOW'\r\nexport const UNFOLLOW = 'UNFOLLOW'\r\nexport const SET_USERS = 'SET_USERS'\r\nexport const SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nexport const SET_TOTAL_COUNT = 'SET_TOTAL_COUNT'\r\nexport const TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nexport const TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\nexport const GET_USERS = 'GET_USERS'\r\nexport const GET_CURRENT_PAGE_USERS = 'GET_CURRENT_PAGE'\r\nexport const GET_USERS_SUBS = 'GET_USERS_SUBS'\r\nexport const SET_USERS_SUB = 'SET_USERS_SUB'\r\nexport const GET_USERS_COUNT = 'GET_USERS_COUNT'\r\nexport const IS_FRIENDS = 'IS_FRIENDS'\r\nexport const SET_FRIENDS_COUNT = 'SET_FRIENDS_COUNT'\r\nexport const SET_ALL_USERS_COUNT = 'SET_ALL_USERS_COUNT'\r\nexport const GET_RANDOM_FRIENDS = 'GET_RANDOM_FRIENDS'\r\nexport const SET_RANDOM_FRIENDS = 'SET_RANDOM_FRIENDS'\r\nexport const SET_PORTION_NUMBER = 'SET_PORTION_NUMBER'\r\n\r\n\r\n\r\nlet initialState = {\r\n    users: [] as Array<UserType>,\r\n    randomFriends: [] as Array<UserType>,\r\n    isUserSubs: null as boolean | null,\r\n    friendsCount: 0,\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    allUsersCount: 0,\r\n    paginationSize: 10,\r\n    portionNumber: 1,\r\n    currentPage: 1 ,\r\n    isFriends: null as boolean | null,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<number>\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nconst usersReducer = (state = initialState, action: ActionType): InitialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state, users: state.users.map ((u) => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        }\r\n\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state, users: state.users.map ((u) => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        }\r\n\r\n        case SET_USERS: {\r\n            return {...state, users: [...action.users]}\r\n        }\r\n\r\n        case SET_USERS_SUB: {\r\n            return {\r\n                ...state, isUserSubs: action.subs\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_COUNT: {\r\n\r\n            return {...state, totalUsersCount: action.currentTotalCount}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        case IS_FRIENDS: {\r\n            return  {\r\n                ...state, isFriends: action.boolean\r\n            }\r\n        }\r\n\r\n        case SET_FRIENDS_COUNT: {\r\n            return {\r\n                ...state, friendsCount: action.count\r\n            }\r\n        }\r\n\r\n        case SET_ALL_USERS_COUNT: {\r\n            return {\r\n                ...state, allUsersCount: action.count\r\n            }\r\n        }\r\n\r\n        case SET_RANDOM_FRIENDS: {\r\n            return {\r\n                ...state, randomFriends: action.randomFriends\r\n            }\r\n        }\r\n\r\n        case SET_PORTION_NUMBER: {\r\n            return  {\r\n                ...state, portionNumber: action.number\r\n            }\r\n        }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n// Столкнулся с автоматической типизацией экшена функции createReducer, отложил на потом\r\n// const authReducer = createReducer(initialState, {\r\n//     [FOLLOW]: (state, action: ReturnType<typeof actions.follow>) => {\r\n//         return {\r\n//             ...state, users: state.users.map ((u) => {\r\n//                 if (u.id === action.userId) {\r\n//                     return {...u, followed: true}\r\n//                 }\r\n//                 return u\r\n//             })\r\n//         }\r\n//     }\r\n// })\r\n\r\n\r\ntype ActionType = ReturnType<InferValueType<typeof actions>>\r\n\r\ntype InferValueType<T> = T extends {[key: string]: infer U} ? U : never\r\n\r\n\r\n\r\n\r\n// type ThunkType = ThunkAction <Promise<void>, AppStateType, unknown, ActionType>\r\n\r\n// export const getUsers = (currentPage: number, pageSize: number): ThunkType  => async (dispatch) => {\r\n//     dispatch (actions.toggleIsFetching (true))\r\n//     let data = await usersAPI.getUsers (currentPage, pageSize)\r\n//\r\n//     dispatch (actions.toggleIsFetching (false))\r\n//     dispatch (actions.setUsers (data.items))\r\n//     dispatch (actions.setTotalCount (data.totalCount))\r\n//\r\n// }\r\n\r\n// export const getCurrentPageUsers = (pageNumber: number, pageSize: number): ThunkType  => async (dispatch) => {\r\n//     dispatch (actions.setCurrent (pageNumber));\r\n//     dispatch (actions.toggleIsFetching (true))\r\n//     let data = await usersAPI.getUsers (pageNumber, pageSize)\r\n//\r\n//     dispatch (actions.toggleIsFetching (false))\r\n//     dispatch (actions.setUsers (data.items))\r\n//\r\n// }\r\n\r\n// const followUnfollowFlow = async (dispatch: any, userId: number, apiMethod: any, action: any) => {\r\n//     dispatch (actions.toggleFollowingProgress (true, userId))\r\n//     const data = await apiMethod(userId)\r\n//     if (data.resultCode === 0) {\r\n//         dispatch (action(userId))\r\n//     }\r\n//     dispatch (actions.toggleFollowingProgress (false, userId))\r\n// }\r\n//\r\n// export const followUser = (userId: number): ThunkType => async (dispatch) => {\r\n//      followUnfollowFlow(dispatch, userId, usersAPI.deleteUsersSubs, actions.unFollow )\r\n// }\r\n//\r\n// export const unFollowUser = (userId: number): ThunkType => async (dispatch) => {\r\n//       followUnfollowFlow(dispatch, userId, usersAPI.postUsersSubs, actions.follow)\r\n// }\r\n\r\nexport default usersReducer","import {UserType} from \"../../Types/Types\";\r\nimport {\r\n    FOLLOW,\r\n    GET_CURRENT_PAGE_USERS,\r\n    GET_USERS,\r\n    SET_CURRENT_PAGE,\r\n    SET_TOTAL_COUNT,\r\n    SET_USERS,\r\n    TOGGLE_IS_FETCHING,\r\n    TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    UNFOLLOW,\r\n    GET_USERS_SUBS,\r\n    SET_USERS_SUB,\r\n    GET_USERS_COUNT,\r\n    IS_FRIENDS,\r\n    SET_FRIENDS_COUNT,\r\n    SET_ALL_USERS_COUNT,\r\n    GET_RANDOM_FRIENDS,\r\n    SET_RANDOM_FRIENDS, SET_PORTION_NUMBER,\r\n} from \"./users-reducer\";\r\n\r\n\r\nexport const follow = (userId: number) => ({type: FOLLOW,userId}as const)\r\nexport const unFollow = (userId: number) => ({type: UNFOLLOW, userId} as const)\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users}as const)\r\nexport const setCurrent = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage}as const)\r\nexport const setTotalCount = (currentTotalCount: number) => ({type: SET_TOTAL_COUNT, currentTotalCount}as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching}as const)\r\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId}as const)\r\nexport const getUsers = (currentPage: number, pageSize: number,whatUsers: boolean | null) => ({type:GET_USERS,currentPage,pageSize,whatUsers}as const)\r\nexport const getCurrentPageUsers = (pageNumber: number, pageSize: number,whatUsers: boolean | null) => ({type: GET_CURRENT_PAGE_USERS,pageNumber,pageSize,whatUsers}as const)\r\nexport const getUsersSubs = (userId: number) => ({type: GET_USERS_SUBS,userId}as const)\r\nexport const setUsersSubs = (subs: boolean) => ({type: SET_USERS_SUB,subs}as const)\r\nexport const getUsersCount = (count: number) => ({type: GET_USERS_COUNT,count}as const)\r\nexport const isFriends = (boolean: boolean | null) => ({type: IS_FRIENDS, boolean}as const)\r\nexport const setFriendsCount = (count: number) => ({type: SET_FRIENDS_COUNT, count}as const)\r\nexport const setAllUsersCount = (count: number) => ({type: SET_ALL_USERS_COUNT, count}as const)\r\nexport const getRandomFriends = () => ({type: GET_RANDOM_FRIENDS}as const)\r\nexport const setRandomFriends = (randomFriends: Array<UserType>) => ({type: SET_RANDOM_FRIENDS, randomFriends}as const)\r\nexport const setPortionNumber = (number: number) => ({type: SET_PORTION_NUMBER, number}as const)\r\n","import {AppStateType} from \"../redux-store\";\r\n\r\nexport const selectTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\n\r\nexport const selectAllUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.allUsersCount\r\n}\r\n\r\nexport const selectFriendsCount = (state: AppStateType) => {\r\n    return state.usersPage.friendsCount\r\n}\r\n\r\nexport const selectRandomFriends = (state: AppStateType) => {\r\n    return state.usersPage.randomFriends\r\n}","import {connect} from \"react-redux\";\r\nimport React from \"react\";\r\nimport UsersFunc from \"./UsersFunc\";\r\nimport {UserType} from \"../../Types/Types\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {follow, getCurrentPageUsers, getUsers, setPortionNumber, unFollow} from \"../../redux/Users/users-action\";\r\nimport {Route} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {selectAllUsersCount, selectFriendsCount} from \"../../redux/Users/users-select\";\r\n\r\n\r\ntype MapDispatchPropsType = {\r\n    getUsers: (currentPage: number, pageSize: number, whatUsers: boolean | null) => void\r\n    getCurrentPageUsers: (pageNumber: number, pageSize: number,whatUsers: boolean | null) => void\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n    setPortionNumber: (number: number) => void\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    currentPage: number\r\n    pageSize: number\r\n    isFetching: boolean\r\n    totalUsersCount: number\r\n    followingInProgress: Array<number>\r\n    paginationSize: number\r\n    users: Array<UserType>\r\n    allUsersCount: number\r\n    friendsCount: number\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nconst UsersAPI: React.FC<PropsType> = (props) => {\r\n\r\n    return (\r\n\r\n        <>\r\n            <Route exact path='/users' render={() => <UsersFunc\r\n                whatFriends={null}\r\n                isFetching={props.isFetching}\r\n                getCurrentPageUsers={props.getCurrentPageUsers}\r\n                getUsers={props.getUsers}\r\n                totalUsersCount={props.totalUsersCount}\r\n                pageSize={props.pageSize}\r\n                users={props.users}\r\n                currentPage={props.currentPage}\r\n                followingInProgress={props.followingInProgress}\r\n                followUser={props.follow}\r\n                unFollowUser={props.unFollow}\r\n                paginationSize={props.paginationSize}\r\n                allUsersCount={props.allUsersCount}\r\n                friendsCount={props.friendsCount}\r\n                setPortionNumber={props.setPortionNumber}\r\n\r\n\r\n            />}/>\r\n            <Route path='/users/friends' render={() => <UsersFunc\r\n                getCurrentPageUsers={props.getCurrentPageUsers}\r\n                whatFriends={true}\r\n                isFetching={props.isFetching}\r\n                getUsers={props.getUsers}\r\n                totalUsersCount={props.totalUsersCount}\r\n                pageSize={props.pageSize}\r\n                users={props.users}\r\n                currentPage={props.currentPage}\r\n                followingInProgress={props.followingInProgress}\r\n                followUser={props.follow}\r\n                unFollowUser={props.unFollow}\r\n                paginationSize={props.paginationSize}\r\n                allUsersCount={props.allUsersCount}\r\n                friendsCount={props.friendsCount}\r\n                setPortionNumber={props.setPortionNumber}\r\n\r\n            />}/>\r\n       </>\r\n    )\r\n\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n        paginationSize: state.usersPage.paginationSize,\r\n        allUsersCount: selectAllUsersCount(state),\r\n        friendsCount: selectFriendsCount(state),\r\n    }\r\n}\r\n\r\n\r\nconst usersContainer = compose(\r\n    connect<MapStatePropsType, MapDispatchPropsType, {}, AppStateType>(mapStateToProps, {\r\n        getUsers,\r\n        follow,\r\n        unFollow,\r\n        getCurrentPageUsers,\r\n        setPortionNumber,\r\n    }),\r\n)(UsersAPI)\r\n\r\nexport default usersContainer\r\n\r\n","import React from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport {ErrorMessage, Field, Form, Formik} from 'formik';\r\nimport {ProfileType} from \"../../../Types/Types\";\r\nimport * as yup from 'yup'\r\nimport { object } from 'yup';\r\n\r\n\r\n\r\n\r\ntype ContactsType = {\r\n    github: string\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n}\r\n\r\ntype Props = {\r\n    profilePage: ProfileType | null\r\n    saveProfile: (profile: ProfileType) => void\r\n    isSaveProfile: boolean\r\n}\r\n\r\nconst ProfileEdit: React.FC<Props> = (props) => {\r\n\r\n    const contactsValidation = () => {\r\n        const obj = {} as any\r\n        Object.keys(props.profilePage?.contacts as ContactsType).forEach(item => {\r\n           obj[item] = yup.string().url('Введите валидный url пример: https://example.com')\r\n        })\r\n        return obj\r\n    }\r\n\r\n    const validationSchema = yup.object().shape({\r\n        fullName: yup.string().required('Обязательно'),\r\n        aboutMe: yup.string().required('Обязательно'),\r\n        lookingForAJobDescription: yup.string().required('Обязательно'),\r\n        contacts: object().shape(contactsValidation())\r\n\r\n    })\r\n\r\n    const submit = (values: any) => {\r\n        props.saveProfile(values)\r\n    }\r\n\r\n\r\n    return (\r\n        <EditorWrapper>\r\n            <Header>Основное</Header>\r\n            {props.isSaveProfile && <SaveProfileSuccess>Профиль обновлен</SaveProfileSuccess>}\r\n            <Forms>\r\n                <Formik validationSchema={validationSchema} initialValues={props.profilePage as ProfileType} onSubmit={submit}>\r\n                    {({values,errors,touched,handleChange,handleBlur,isValid,dirty}) => (\r\n                        <Form>\r\n                            <FormsItem>\r\n                                <Label>Имя: </Label>\r\n                                <Input onChange={handleChange} onBlur={handleBlur} type='name' name=\"fullName\"/>\r\n                                <Error name=\"fullName\" component=\"div\"/>\r\n                            </FormsItem>\r\n                            <FormsItem>\r\n                                <Label>Обо мне: </Label>\r\n                                <Input type=\"text\" name=\"aboutMe\"/>\r\n                                <Error name=\"aboutMe\" component=\"div\"/>\r\n                            </FormsItem>\r\n                            <FormsItem>\r\n                                <Label>В поисках работы: </Label>\r\n                                <Input type=\"checkbox\" name=\"lookingForAJob\"/>\r\n                                <Error name=\"lookingForAJob\" component=\"div\"/>\r\n                            </FormsItem>\r\n                            <FormsItem>\r\n                                <Label>Skills: </Label>\r\n                                <Input type=\"text\" name=\"lookingForAJobDescription\"/>\r\n                                <Error name=\"lookingForAJobDescription\" component=\"div\"/>\r\n                            </FormsItem>\r\n                            {Object.entries(props.profilePage?.contacts as ContactsType).map((i ) => {\r\n                                    return (\r\n                                            <FormsItem>\r\n                                                <Label>{`${i[0]}`}</Label>\r\n                                                <Input  type='text' name={`contacts.${i[0]}`}/>\r\n                                                <Error name={`contacts.${i[0]}`} component=\"div\"/>\r\n                                            </FormsItem>\r\n                                    )\r\n\r\n                                })\r\n                            }\r\n                            {console.log(!isValid,!dirty)}\r\n                            <ButtonWrapper>\r\n                                <Button disabled={!dirty || !isValid} type=\"submit\">Сохранить</Button>\r\n                            </ButtonWrapper>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </Forms>\r\n        </EditorWrapper>\r\n    );\r\n};\r\n\r\nexport default ProfileEdit;\r\n\r\n\r\nconst EditorWrapper = styled.div`\r\n    background-color: white;\r\n    border-radius: 4px 4px 0 0;\r\n`\r\n\r\nconst Header = styled.div`\r\n    padding: 0 20px;\r\n    border-bottom: 1px solid #e7e8ec;\r\n    display: block;\r\n    height: 54px;\r\n    line-height: 54px;\r\n    font-size: 16px;\r\n    outline: 0;\r\n    color: black;\r\n`\r\n\r\nconst SaveProfileSuccess = styled.div`\r\n  background-color: greenyellow;\r\n  color: black;\r\n  padding: 15px 0;\r\n`\r\n\r\nconst Forms = styled.section`\r\n  padding: 30px 10px;\r\n`\r\n\r\nconst FormsItem = styled.div`\r\n  margin-bottom: 15px;\r\n  display: grid;\r\n  grid-template-columns: [labels] 30% [controls] 1fr;\r\n  column-gap: 10px;\r\n  align-items: center;\r\n \r\n`\r\nconst Label = styled.label`\r\n  color: #656565;\r\n  justify-self: end;\r\n  grid-column: labels;\r\n`\r\n\r\nconst Input = styled(Field)`\r\n  background-color: #ffffff;\r\n  border-radius: 3px;\r\n  border: 1px solid #d3d9de;\r\n  color: black;\r\n  font-size: 14px;\r\n  line-height: 16px;\r\n  max-width: 300px;\r\n  height: 25px;\r\n  grid-column: controls;\r\n`\r\n\r\nconst Error = styled(ErrorMessage)`\r\n  color: red;\r\n  grid-column: controls;\r\n  margin-top: 5px;\r\n`\r\n\r\nconst ButtonWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 30px;\r\n`\r\n\r\nexport const Button = styled.button`\r\n    padding: 7px 16px 8px;\r\n    margin: 0;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    background-color: #5181b8;\r\n    border: 0;\r\n    border-radius: 4px;\r\n    color: #fff;\r\n    &:hover {\r\n    opacity: 0.88;\r\n    }\r\n    &:active {\r\n    background-color: #4a76a8;\r\n    padding-top: 8px;\r\n    padding-bottom: 7px;\r\n    }\r\n    &:disabled{\r\n    opacity: 0.5;\r\n    }\r\n`\r\n","import React, {useEffect, useRef, useState,useCallback} from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport ContentEditable from 'react-contenteditable'\r\nimport { Button } from '../../ProfileEdit/ProfileEdit';\r\n\r\n\r\n\r\ntype PropsType = {\r\n    status: string\r\n    isOwner: boolean\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\n\r\nconst ProfileStatusHook: React.FC<PropsType> = (props) => {\r\n    const [editMode,setEditMode] = useState(false)\r\n    const [status,setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    },[props.status])\r\n\r\n   const editModeActivated = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    console.log('render A')\r\n\r\n    const editModeDeactivated = () => {\r\n        setEditMode(false)\r\n    }\r\n\r\n    const onStatusChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.innerHTML)\r\n        // setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                {props.isOwner ?\r\n                    !editMode ?\r\n                        <StatusOff style={{wordBreak: 'break-all'}} onClick={editModeActivated}>{props.status || 'No status'}</StatusOff>:\r\n                        <StatusActivated updateStatus={props.updateStatus} onStatusChange={onStatusChange} value={status} editModeDeactivated={editModeDeactivated}/>\r\n                        :\r\n                        <span style={{wordBreak: 'break-all'}}>{props.status || 'No status'}</span>\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ProfileStatusHook;\r\n\r\nconst StatusOff = styled.p`\r\n  padding: 2px;\r\n      &:hover {\r\n        background-color: #f0f2f5;\r\n        cursor: pointer;\r\n      }\r\n`\r\n\r\n\r\n\r\n\r\ntype PropsActivated = {\r\n    onStatusChange: (e: React.ChangeEvent<HTMLInputElement>) => void\r\n    value: string\r\n    editModeDeactivated: () => void\r\n    updateStatus: (status : string) => void\r\n\r\n}\r\n\r\n\r\nconst StatusActivated: React.FC<PropsActivated> = (props) => {\r\n    const status = useRef<HTMLDivElement>(null)\r\n    const statusWrapper = useRef<HTMLDivElement>(null)\r\n    console.log('Render B')\r\n\r\n    useEffect(() => {\r\n        selectElementContents(status.current)\r\n        document.addEventListener('click', handleClickOutside, true);\r\n    },[])\r\n\r\n    const handleClickOutside = (event: MouseEvent): void => {\r\n        if (statusWrapper.current && !statusWrapper.current.contains(event.target as Node)) {\r\n            props.editModeDeactivated();\r\n            document.removeEventListener('click', handleClickOutside, true);\r\n\r\n        }\r\n\r\n    };\r\n\r\n    const buttonClickHandler = () => {\r\n        props.updateStatus(props.value)\r\n        props.editModeDeactivated()\r\n    }\r\n\r\n    const changeHandler = (e: any) => {\r\n        props.onStatusChange(e)\r\n    }\r\n\r\n    function selectElementContents(el: any) {\r\n        const range = document.createRange();\r\n        range.selectNodeContents(el);\r\n        const sel = window.getSelection() as any;\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n    }\r\n\r\n    const  maxSymbolsStatus = (e: any) => {\r\n        if (e.key === 'Enter'){\r\n            props.updateStatus(e.currentTarget.innerHTML)\r\n            props.editModeDeactivated()\r\n        }\r\n        console.log(props.value)\r\n\r\n        if (e.currentTarget.innerHTML.length > 130){\r\n            e.preventDefault()\r\n        }\r\n    }\r\n\r\n    const contentEditableStyle: React.CSSProperties = {\r\n        border: '1px solid #d3d9de',\r\n        padding: '5px 9px 7px',\r\n        borderRadius: '3px',\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <StatusActiveWrapper ref={statusWrapper}>\r\n            <ContentEditable onKeyPress={maxSymbolsStatus} style={contentEditableStyle} disabled={false} onChange={changeHandler} html={props.value} innerRef={status}/>\r\n            <StatusButton onClick={buttonClickHandler}>Сохранить</StatusButton>\r\n        </StatusActiveWrapper>\r\n\r\n    )\r\n}\r\n\r\nconst StatusActiveWrapper = styled.div<any>`\r\n    border: 1px solid #d3d9de;\r\n    border-radius: 2px;\r\n    background-color: #fafbfc;\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12);\r\n    padding: 15px;\r\n    margin: 0 -26px;\r\n`\r\nconst StatusButton = styled(Button)`\r\n  margin-top: 10px;\r\n`\r\n","import React, {useEffect} from 'react';\r\nimport UserPhoto from \"../../../../assets/images/user.png\";\r\nimport styled from \"styled-components/macro\";\r\nimport {PhotosType, UserType} from '../../../../Types/Types';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {useSelector} from \"react-redux\";\r\nimport { AppStateType } from '../../../../redux/redux-store';\r\n\r\n\r\ntype Props = {\r\n    photos: PhotosType\r\n    savePhoto: (obj: object) => void\r\n    isOwner: boolean\r\n    users: Array<UserType>\r\n    userId: number | null\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n    followingInProgress: Array<number>\r\n    getUsersSubs: (userId: number | null) => void\r\n}\r\n\r\nconst AvatarPage: React.FC<Props> = (props) => {\r\n    const onMainPhotoSelected = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        if (event.target.files !== null) {\r\n            props.savePhoto(event.target.files[0])\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Avatar>\r\n            <AvatarImg>\r\n\r\n                <img src={props.photos.large || UserPhoto} alt='#'/>\r\n                {props.isOwner &&\r\n                <PhotoMenuWrapper>\r\n                    <PhotoMenu>\r\n                        <PhotoLink type='file' id={'file'} onChange={onMainPhotoSelected}/>\r\n                        <LinkLabel htmlFor={'file'}>Обновить фотографию</LinkLabel>\r\n                    </PhotoMenu>\r\n                </PhotoMenuWrapper>\r\n                }\r\n            </AvatarImg>\r\n            <AvatarAsideWrapper>\r\n                {props.isOwner ? <NavLink to={'/edit'}>Редактировать</NavLink> : <AvatarAside userId={props.userId}\r\n                                                                                              users={props.users}\r\n                                                                                              follow={props.follow}\r\n                                                                                              unFollow={props.unFollow}\r\n                                                                                              followingInProgress={props.followingInProgress}\r\n                                                                                              getUsersSubs={props.getUsersSubs}\r\n                />}\r\n            </AvatarAsideWrapper>\r\n        </Avatar>\r\n    );\r\n};\r\n\r\nexport default AvatarPage;\r\n\r\n\r\ntype AvatarProps = {\r\n    users: Array<UserType>\r\n    userId: number | null\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n    followingInProgress: Array<number>\r\n    getUsersSubs: (userId: number | null) => void\r\n\r\n}\r\nconst AvatarAside: React.FC<AvatarProps> = (props) => {\r\n\r\n    let isFollowed = useSelector((state: AppStateType) => state.usersPage.isUserSubs)\r\n\r\n    useEffect(() => {\r\n        props.getUsersSubs(props.userId)\r\n    },[props.userId])\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            {\r\n                isFollowed\r\n                    ? <button disabled={props.followingInProgress.some(id => id === props.userId)} onClick={() => {\r\n                        props.unFollow(props.userId as number)\r\n                    }}>Убрать из друзей</button>\r\n\r\n                    : <button disabled={props.followingInProgress.some(id => id === props.userId)} onClick={() => {\r\n                        props.follow(props.userId as number)\r\n                    }}>Добавить в друзья</button>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nconst Avatar = styled.div`\r\nbackground-color: white;\r\npadding: 15px 20px;\r\ngrid-column: left;\r\nborder-radius: 4px;\r\nbox-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\nmin-width: 218px;\r\n min-height: 218px;\r\n \r\n`\r\nconst PhotoMenuWrapper = styled.div`\r\n   text-align: center;\r\n   position: absolute;\r\n   top: 100%; \r\n   left: 0px;\r\n   background: rgba(29,32,34,.7);\r\n   width: 100%;\r\n   height: 100%;\r\n   color: #fff;\r\n   transition: all 150ms cubic-bezier(0.4, 0, 1, 1) 0s;\r\n`\r\n\r\n\r\nconst AvatarImg = styled.div`\r\n  position: relative;\r\n  max-width: 230px;\r\n  overflow: hidden;\r\n  :hover ${PhotoMenuWrapper} {\r\n    top: 60%;\r\n  }\r\n  img {\r\n    width: 100%;\r\n    border-radius: 4px;\r\n  }\r\n`\r\n\r\nconst AvatarAsideWrapper = styled.aside`\r\n  margin-top: 15px;\r\n  display: flex;\r\n  justify-content: center;\r\n  background-color: #e5ebf1;\r\n  border-radius: 4px;\r\n  a {\r\n    display: block;\r\n    height: 34px;\r\n    line-height: 32px;\r\n    color: #2a5885;\r\n  }\r\n  button {\r\n    display: block;\r\n    height: 34px;\r\n    line-height: 32px;\r\n    color: #2a5885;\r\n    background: none;\r\n    border: none;\r\n  }\r\n  :hover {\r\n  background-color: #d3d9de;\r\n  border-radius: 5px;\r\n  }\r\n`\r\nconst PhotoLink = styled.input`\r\n  color: white;\r\n  padding-top: 10px;\r\n  display: none;\r\n`\r\nconst LinkLabel = styled.label`\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n  :hover {\r\n  opacity: 0.9;\r\n  }\r\n`\r\n\r\nconst PhotoMenu = styled.div`\r\n  padding-top: 15px;\r\n`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useEffect} from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport {UserType} from \"../../../../Types/Types\";\r\nimport user from '../../../../assets/images/user.png'\r\nimport {NavLink} from 'react-router-dom';\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from '../../../../redux/redux-store';\r\nimport Preloader from \"../../../Preloader/Preloader\";\r\n\r\n\r\ntype PropsType = {\r\n    randomFriends: Array<UserType>\r\n    friendsCount: number\r\n    getRandomFriends: () => void\r\n}\r\nconst Friends: React.FC<PropsType> = (props) => {\r\n    const isFetching = useSelector((state: AppStateType) => state.usersPage.isFetching)\r\n    console.log(props.friendsCount)\r\n\r\n    useEffect(() => {\r\n        props.getRandomFriends()\r\n    }, [props.friendsCount])\r\n\r\n    return (\r\n        <FriendsContainer>\r\n            {!isFetching  ? <>\r\n                {props.friendsCount !== 0 ? <>\r\n                    <FriendsHeader to={'/users/friends'}>\r\n                        <p>Друзья:</p>\r\n                        <span>{props.friendsCount}</span>\r\n                    </FriendsHeader>\r\n                    <FriendsWrapper>\r\n                        {props.randomFriends.map(item => {\r\n                            return <FriendsItem key={item.id} to={`/profile/${item.id}`}>\r\n                                <FriendsImg>\r\n                                    <img src={item.photos.small ? item.photos.small : user} alt=\"\"/>\r\n                                </FriendsImg>\r\n                                <FriendsName>\r\n                                    <p>{item.name.length > 6 ? item.name.substr(0, 6) + '...' : item.name}</p>\r\n                                </FriendsName>\r\n                            </FriendsItem>\r\n                        })}\r\n                    </FriendsWrapper>\r\n                </> : <NoUsers>Пользователь еще не добавил друзей</NoUsers>\r\n                }\r\n            </> :<PreloaderWrapper><Preloader/></PreloaderWrapper>\r\n            }\r\n        </FriendsContainer>\r\n    );\r\n};\r\n\r\nexport default Friends;\r\n\r\nconst FriendsContainer = styled.div`\r\n  background-color: white;\r\n  box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n  border-radius: 4px;\r\n  margin-top: 10px;\r\n  text-align: center;\r\n  min-width: 258px;\r\n  min-height: 158px;\r\n\r\n`\r\n\r\nconst FriendsHeader = styled(NavLink)`\r\n   display: flex;\r\n   font-size: 15px;\r\n   line-height: 1.1em;\r\n   font-weight: 400;\r\n   padding: 10px 15px 0 15px;\r\n   color: black;\r\n  span {\r\n    color: #939393;\r\n    margin-left: 5px; \r\n  }\r\n`\r\n\r\nconst FriendsWrapper = styled.div`\r\n  display: grid;\r\n  grid-template-columns:  repeat(3,1fr);\r\n  gap: 15px;\r\n  padding: 15px 15px;\r\n`\r\n\r\nconst FriendsItem = styled(NavLink)`\r\ndisplay: flex;\r\njustify-content: center;\r\nalign-items: center;\r\nflex-direction: column;\r\ncursor: pointer;\r\n  \r\n`\r\nconst FriendsImg = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  img {\r\n    border-radius: 50%;\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst FriendsName = styled.div`\r\n  font-size: 14px;\r\n  margin-top: 5px;\r\n  color: #2a5885;\r\n`\r\n\r\nconst NoUsers = styled.p`\r\n  padding: 15px;\r\n  font-style: italic;\r\n`\r\n\r\nconst PreloaderWrapper = styled.div`\r\n  width: 50px;\r\n  display: inline-block;\r\n`\r\n","import React, {useCallback, useEffect, useRef} from 'react';\r\nimport styled from \"styled-components/macro\";\r\n\r\n\r\nconst CanvasTools = ({canvasTools, lineWidth, lineColor,opacity}) => {\r\n    const canvasRef = useRef (null)\r\n\r\n    let color = lineColor\r\n    let width = lineWidth\r\n    let opacityBrush = opacity / 100\r\n\r\n    const draw = useCallback(() => {\r\n        const ctx = canvasRef.current.getContext ('2d')\r\n        const rect = canvasRef.current.getBoundingClientRect ()\r\n        const scale = window.devicePixelRatio\r\n        canvasRef.current.width = rect.width * scale\r\n        canvasRef.current.height = rect.height * scale\r\n        ctx.scale (scale, scale)\r\n\r\n        ctx.beginPath ()\r\n        ctx.strokeStyle = color\r\n        ctx.globalAlpha = opacityBrush;\r\n        ctx.shadowBlur = 1;\r\n        ctx.lineCap = 'round';\r\n        ctx.lineJoin = 'round';\r\n        ctx.lineWidth = +width\r\n        ctx.moveTo (60, 60)\r\n        ctx.lineTo (60, 60)\r\n        ctx.stroke ()\r\n    },[canvasRef])\r\n\r\n    useEffect (() => {\r\n        draw(lineWidth)\r\n    },[draw,lineWidth])\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const onChange = event => {\r\n        canvasTools (event)\r\n        switch (event.target.name) {\r\n            case \"number\" : {\r\n                width = event.target.value\r\n                break\r\n            }\r\n\r\n            case \"color\" : {\r\n                color = event.target.value\r\n                break\r\n            }\r\n\r\n            case \"opacity\" : {\r\n                opacityBrush = event.target.value / 100\r\n                break\r\n            }\r\n\r\n            default:\r\n                return\r\n\r\n        }\r\n\r\n\r\n        draw ()\r\n    }\r\n    return (\r\n        <CanvasToolsWrapper>\r\n            <li>\r\n                <CanvasBrushWrapper>\r\n                    <CanvasBrush ref={canvasRef}/>\r\n                </CanvasBrushWrapper>\r\n            </li>\r\n            <li>\r\n                <Label>\r\n                    Цвет:\r\n                    <input type=\"color\" name=\"color\" id=\"color\" onChange={onChange}/>\r\n                </Label>\r\n            </li>\r\n            <li>\r\n                <Label>\r\n                    Толщина:\r\n                    <input type=\"range\" min='1' max='100' step='1' name=\"number\" id=\"number\" onChange={onChange}/>\r\n                </Label>\r\n            </li>\r\n            <li>\r\n                <Label>\r\n                    Интенсивность:\r\n                    <input type=\"range\" min='1' step='1' max='100' name=\"opacity\" id=\"opacity\"  onChange={onChange}/>\r\n                </Label>\r\n            </li>\r\n            <li>\r\n                <ButtonWrapper>\r\n                    <Button name=\"clear\" onClick={canvasTools}>Очистить</Button>\r\n                </ButtonWrapper>\r\n            </li>\r\n\r\n\r\n\r\n\r\n\r\n\r\n        </CanvasToolsWrapper>\r\n    );\r\n};\r\n\r\nexport default CanvasTools;\r\n\r\nconst CanvasToolsWrapper = styled.ul`\r\n  display: flex;\r\n  padding: 10px;\r\n  justify-content: center;\r\n  align-items: center;\r\n  li {\r\n    margin-right: 15px;\r\n  }\r\n`\r\n\r\nconst CanvasBrushWrapper = styled.div`\r\n\r\n`\r\n\r\nconst CanvasBrush = styled.canvas`\r\n  width: 120px;\r\n  height: 120px;\r\n`\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  input {\r\n    margin-left: 10px;\r\n    width: 50px;\r\n  }\r\n\r\n`\r\n\r\nconst ButtonWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nconst Button = styled.button`\r\n    padding: 7px 16px 8px;\r\n    margin: 0;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    background-color: #5181b8;\r\n    border: 0;\r\n    border-radius: 4px;\r\n    color: #fff;\r\n    &:hover {\r\n    opacity: 0.88;\r\n    }\r\n    &:active {\r\n    background-color: #4a76a8;\r\n    padding-top: 8px;\r\n    padding-bottom: 7px;\r\n    }\r\n    &:disabled{\r\n    opacity: 0.5;\r\n    }\r\n`","import React, {useEffect, useRef} from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport CanvasTools from \"./CanvasTools\";\r\n\r\n\r\nconst CanvasSide = (props) => {\r\n    const canvasWrapperRef = useRef(null)\r\n    const canvasRef = useRef (null)\r\n    let ctx;\r\n    let prevValues = {}\r\n    let isDrawing = false\r\n    let isMouseDown = false\r\n    let lineWidth = 50\r\n    let lineColor = \"rgb(0,0,0)\"\r\n    let opacity = 50\r\n\r\n\r\n    const handleClickOutside = (event) => {\r\n        if (canvasWrapperRef.current && !canvasWrapperRef.current.contains(event.target )) {\r\n            props.setCanvas(false)\r\n        }\r\n    }\r\n\r\n    useEffect (() => {\r\n        resizeCanvas ()\r\n\r\n        window.addEventListener ('mouseup', () => {isMouseDown = false})\r\n        window.addEventListener ('resize', resizeCanvas, false);\r\n        window.addEventListener('click', handleClickOutside,true)\r\n\r\n        return () => {\r\n            window.removeEventListener ('mouseup', () => {})\r\n            window.removeEventListener ('resize', resizeCanvas, false);\r\n            window.removeEventListener('click', handleClickOutside,true)\r\n        }\r\n    }, [])\r\n\r\n    const canvasTools = (event) => {\r\n        switch (event.target.name) {\r\n            case \"number\" : {\r\n                lineWidth = event.target.value\r\n                break\r\n            }\r\n\r\n            case \"color\" : {\r\n                lineColor = event.target.value\r\n                break\r\n            }\r\n\r\n            case \"clear\" : {\r\n                ctx.clearRect (0, 0, ctx.canvas.width, ctx.canvas.height);\r\n                break\r\n            }\r\n\r\n            case \"opacity\" : {\r\n                opacity = event.target.value\r\n                break\r\n            }\r\n\r\n            default:\r\n                return\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const draw = (x,y) => {\r\n        const ctx = canvasRef.current.getContext ('2d')\r\n\r\n\r\n        ctx.beginPath ()\r\n        ctx.strokeStyle = lineColor\r\n        ctx.globalAlpha = opacity / 100;\r\n        ctx.lineCap = 'round';\r\n        ctx.lineJoin = 'round';\r\n        ctx.lineWidth = +lineWidth\r\n        ctx.moveTo (prevValues.x, prevValues.y)\r\n        ctx.lineTo (x, y)\r\n        ctx.stroke ()\r\n        console.log (opacity / 100)\r\n    }\r\n\r\n    const mouseDown = (event) => {\r\n        const pos = {x: event.nativeEvent.offsetX, y: event.nativeEvent.offsetY}\r\n        prevValues = {x: event.nativeEvent.offsetX, y: event.nativeEvent.offsetY}\r\n        isDrawing = true\r\n        isMouseDown = true\r\n        draw(pos.x,pos.y)\r\n\r\n    }\r\n\r\n    const mouseOver = () => {\r\n        if (isMouseDown) {\r\n            isDrawing = true\r\n        }\r\n    }\r\n\r\n    function resizeCanvas () {\r\n        ctx = canvasRef.current.getContext ('2d')\r\n        const rect = canvasRef.current.getBoundingClientRect ()\r\n        const scale = window.devicePixelRatio\r\n        ctx.canvas.width = rect.width * scale\r\n        ctx.canvas.height = rect.height * scale\r\n        ctx.scale (scale, scale)\r\n    }\r\n\r\n\r\n    const mouseMove = (event) => {\r\n        if (isDrawing) {\r\n            const pos = {x: event.nativeEvent.offsetX, y: event.nativeEvent.offsetY}\r\n            if (Object.keys(prevValues).length === 0) {\r\n                prevValues = {x: event.nativeEvent.offsetX, y: event.nativeEvent.offsetY}\r\n            }\r\n            draw(pos.x,pos.y)\r\n            prevValues = {x: event.nativeEvent.offsetX, y: event.nativeEvent.offsetY}\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <CanvasWrapper ref={canvasWrapperRef}>\r\n            <button onClick={() => {props.setCanvas(false); props.setFileImg(ctx.canvas.toDataURL()); props.setTextarea(true); props.setFieldValue(\"file\", ''); props.setFieldValue('images', ctx.canvas.toDataURL())}}>Добавить пост</button>\r\n            <Canvas ref={canvasRef}\r\n                    onMouseOver={mouseOver}\r\n                    onMouseOut={() => {\r\n                        isDrawing = false;\r\n                        prevValues = {}\r\n                    }}\r\n                    onMouseUp={() => {\r\n                        isDrawing = false;\r\n                        prevValues = {}\r\n                    }}\r\n                    onMouseDown={mouseDown}\r\n                    onMouseMove={mouseMove}\r\n            />\r\n            <CanvasTools opacity={opacity}  lineColor={lineColor} lineWidth={lineWidth} canvasTools={canvasTools}/>\r\n        </CanvasWrapper>\r\n\r\n    );\r\n};\r\n\r\nexport default CanvasSide\r\n\r\nconst Canvas = styled.canvas`\r\n width: 100%;\r\n height: 500px;\r\n border: 1px solid black;\r\n background-color: white;\r\n display: block;\r\n\r\n`\r\n\r\nconst CanvasWrapper = styled.div`\r\n background-color: white;\r\nmax-width: 800px;\r\nmargin: 0 auto;\r\nmargin-top: 50px;\r\n`\r\n\r\n\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M27.948,20.878L40.291,8.536c1.953-1.953,1.953-5.119,0-7.071c-1.951-1.952-5.119-1.952-7.07,0L20.878,13.809L8.535,1.465 c-1.951-1.952-5.119-1.952-7.07,0c-1.953,1.953-1.953,5.119,0,7.071l12.342,12.342L1.465,33.22c-1.953,1.953-1.953,5.119,0,7.071 C2.44,41.268,3.721,41.755,5,41.755c1.278,0,2.56-0.487,3.535-1.464l12.343-12.342l12.343,12.343 c0.976,0.977,2.256,1.464,3.535,1.464s2.56-0.487,3.535-1.464c1.953-1.953,1.953-5.119,0-7.071L27.948,20.878z\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar SvgCloseCross = function SvgCloseCross(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"41.756px\",\n    height: \"41.756px\",\n    viewBox: \"0 0 41.756 41.756\",\n    style: {\n      enableBackground: \"new 0 0 41.756 41.756\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCloseCross, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/close-cross.6724e280.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m477 70h-121v-35c0-19.300781-15.699219-35-35-35h-130c-19.300781 0-35 15.699219-35 35v35h-121c-19.300781 0-35 15.699219-35 35v300c0 19.300781 15.699219 35 35 35h442c19.300781 0 35-15.699219 35-35v-300c0-19.300781-15.699219-35-35-35zm-291-35c0-2.757812 2.242188-5 5-5h130c2.757812 0 5 2.242188 5 5v35h-140zm296 370c0 2.757812-2.242188 5-5 5h-442c-2.757812 0-5-2.242188-5-5v-300c0-2.757812 2.242188-5 5-5h442c2.757812 0 5 2.242188 5 5zm0 0\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m256 135c-66.167969 0-120 53.832031-120 120s53.832031 120 120 120 120-53.832031 120-120-53.832031-120-120-120zm0 210c-49.625 0-90-40.375-90-90s40.375-90 90-90 90 40.375 90 90-40.375 90-90 90zm0 0\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m437 160c0 8.285156-6.714844 15-15 15s-15-6.714844-15-15 6.714844-15 15-15 15 6.714844 15 15zm0 0\"\n});\n\nvar SvgCamera = function SvgCamera(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"0 -36 512 512\",\n    width: \"512pt\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCamera, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/camera.d39285db.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m511.972656 252.125c-1.007812-67.855469-28.0625-131.320312-76.1875-178.695312-48.097656-47.355469-111.9375-73.429688-179.785156-73.429688-.023438 0-.054688 0-.078125 0-68.351563.0195312-132.609375 26.648438-180.941406 74.980469s-74.9609378 112.589843-74.980469 180.941406c-.0195312 67.871094 26.058594 131.75 73.429688 179.863281 47.375 48.125 110.839843 75.179688 178.691406 76.1875.949218.011719 1.898437.023438 2.84375.027344h.296875c21.601562 0 41.996093-9.382812 55.996093-25.769531 14.234376-16.664063 20.375-38.71875 16.84375-60.515625-.84375-5.195313-1.203124-10.53125-1.074218-15.855469.53125-21.765625 9.394531-42.320313 24.953125-57.878906 15.558593-15.558594 36.117187-24.421875 57.878906-24.957031 5.324219-.128907 10.660156.230468 15.859375 1.074218 21.789062 3.53125 43.851562-2.605468 60.515625-16.839844 16.460937-14.066406 25.851563-34.582031 25.765625-56.300781-.003906-.941406-.015625-1.890625-.027344-2.832031zm-45.230468 36.324219c-9.945313 8.5-23.15625 12.15625-36.226563 10.039062-7.023437-1.140625-14.226563-1.628906-21.390625-1.453125-29.5.722656-57.328125 12.703125-78.359375 33.734375-21.027344 21.027344-33.007813 48.855469-33.730469 78.355469v.003906c-.175781 7.171875.3125 14.367188 1.449219 21.386719 2.121094 13.078125-1.539063 26.28125-10.035156 36.230469-8.410157 9.839844-20.1875 15.253906-33.183594 15.253906-.058594 0-.121094 0-.183594 0-.832031-.003906-1.667969-.011719-2.511719-.023438-59.925781-.890624-115.953124-24.769531-157.765624-67.238281-41.808594-42.464843-64.824219-98.863281-64.804688-158.808593.019531-60.339844 23.527344-117.066407 66.195312-159.734376 42.667969-42.667968 99.394532-66.175781 159.734376-66.195312h.070312c59.917969 0 116.292969 23.015625 158.738281 64.804688 42.46875 41.8125 66.347657 97.84375 67.238281 157.773437.011719.839844.019532 1.675781.019532 2.507813.054687 13.066406-5.363282 24.914062-15.253906 33.363281zm0 0\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m198.597656 72.417969c-24.8125 0-45 20.1875-45 45s20.1875 45 45 45 45-20.1875 45-45-20.1875-45-45-45zm0 60c-8.269531 0-15-6.726563-15-15 0-8.269531 6.730469-15 15-15 8.273438 0 15 6.730469 15 15 0 8.273437-6.726562 15-15 15zm0 0\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m117.417969 243.597656c24.8125 0 45-20.1875 45-45s-20.1875-45-45-45-45 20.1875-45 45 20.1875 45 45 45zm0-60c8.269531 0 15 6.730469 15 15 0 8.273438-6.730469 15-15 15s-15-6.726562-15-15c0-8.269531 6.726562-15 15-15zm0 0\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m394.582031 153.597656c-24.8125 0-45 20.1875-45 45s20.1875 45 45 45 45-20.1875 45-45-20.183593-45-45-45zm0 60c-8.269531 0-15-6.726562-15-15 0-8.269531 6.730469-15 15-15 8.273438 0 15 6.730469 15 15 0 8.273438-6.726562 15-15 15zm0 0\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m117.417969 268.402344c-24.8125 0-45 20.1875-45 45s20.1875 45 45 45 45-20.1875 45-45-20.1875-45-45-45zm0 60c-8.269531 0-15-6.726563-15-15 0-8.269532 6.730469-15 15-15s15 6.730468 15 15c0 8.273437-6.730469 15-15 15zm0 0\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m313.402344 72.417969c-24.8125 0-45 20.1875-45 45s20.1875 45 45 45 45-20.1875 45-45-20.1875-45-45-45zm0 60c-8.269532 0-15-6.726563-15-15 0-8.269531 6.730468-15 15-15 8.269531 0 15 6.730469 15 15 0 8.273437-6.726563 15-15 15zm0 0\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m198.597656 349.582031c-24.8125 0-45 20.1875-45 45s20.1875 45 45 45 45-20.1875 45-45-20.1875-45-45-45zm0 60c-8.269531 0-15-6.726562-15-15 0-8.269531 6.730469-15 15-15 8.273438 0 15 6.730469 15 15 0 8.273438-6.726562 15-15 15zm0 0\"\n});\n\nvar SvgColorPalette = function SvgColorPalette(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"512pt\",\n    viewBox: \"0 0 512.0006 512\",\n    width: \"512pt\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgColorPalette, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/color-palette.a5815099.svg\";\nexport { ForwardRef as ReactComponent };","import { getBox } from 'css-box-model';\r\nimport React, {useEffect, useMemo, useRef, useState} from 'react';\r\nimport styled from \"styled-components/macro\";\r\n\r\ntype Props = {\r\n    text: string\r\n    margin: string\r\n    place: string\r\n}\r\n\r\nconst TooltipComponent: React.FC<Props> = (props) => {\r\n    const [isShow, setShow] = useState(false)\r\n    const tooltipRef = useRef(null)\r\n\r\n    const place = props.place\r\n\r\n    const getTooltipPosition = (place: string) => {\r\n        const coords = getBox(tooltipRef.current as any)\r\n\r\n        switch (place) {\r\n            case 'top': {\r\n                if (coords.contentBox.right + 7 > window.innerWidth) {\r\n                    return TooltipTopLeft\r\n                }\r\n                return TooltipTop\r\n\r\n\r\n            }\r\n            case 'bottom': {\r\n                if (coords.contentBox.right + 7 > window.innerWidth) {\r\n                    return TooltipBottomLeft\r\n                }\r\n                return TooltipBottom\r\n            }\r\n            case 'right': {\r\n                if (coords.contentBox.right + 7 > window.innerWidth) {\r\n                    return TooltipLeft\r\n                }\r\n                return TooltipRight\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const TooltipRender = useMemo(() => {\r\n        console.log('render tooltip')\r\n        switch (props.place) {\r\n            case 'top': {\r\n                if (tooltipRef.current) {\r\n                 return  getTooltipPosition(props.place) as any\r\n                }\r\n                return TooltipTop\r\n\r\n\r\n            }\r\n\r\n            case 'bottom': {\r\n                if (tooltipRef.current) {\r\n                    return  getTooltipPosition(props.place)\r\n                }\r\n                return TooltipBottom\r\n            }\r\n\r\n            case 'left': {\r\n                return TooltipLeft\r\n            }\r\n\r\n            case 'right': {\r\n                if (tooltipRef.current) {\r\n                    return  getTooltipPosition(props.place) }\r\n                return TooltipRight\r\n            }\r\n\r\n            default: return TooltipTop\r\n        }\r\n    }, [isShow,window.innerWidth])\r\n\r\n    const Enter = React.useCallback(() => setShow(true), [place])\r\n\r\n    return (\r\n        <>\r\n            <TooltipWrapper>\r\n                <Target  onMouseEnter={Enter} onMouseLeave={() => setShow(false)}>{props.children}</Target>\r\n                <TooltipRender margin={props.margin} ref={tooltipRef} style={isShow ? {opacity: 1} : undefined}><p>{props.text}</p></TooltipRender>\r\n            </TooltipWrapper>\r\n        </>\r\n\r\n\r\n    );\r\n};\r\n\r\nexport default TooltipComponent;\r\n\r\n\r\nconst Target = styled.div`\r\n  position: relative;\r\n`\r\n\r\nconst TooltipWrapper = styled.div`\r\n  position: relative;\r\n`\r\ntype TooltipType = {\r\n    position: {}\r\n}\r\nconst Tooltip = styled.div<any>`\r\n  pointer-events: none;\r\n  opacity: 0;\r\n  transition: opacity .33s ease-in-out;\r\n  padding: 5px;\r\n  color: white;\r\n  font-size: 12px;\r\n  background-color: rgba(0,0,0,0.5);\r\n  position: absolute;\r\n  border-radius: 4px;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  :before {\r\n      position: absolute;\r\n      pointer-events: none;\r\n      content: '';\r\n      height: 0;\r\n      width: 0;\r\n      border: 3px solid transparent;\r\n      //border-top: 3px solid rgba(0,0,0,0.5);\r\n  }\r\n`\r\n\r\nexport const TooltipTop = styled(Tooltip)`\r\n  transform: translateX(-20%);\r\n  left: 50%;\r\n  bottom: 100%;\r\n  margin-bottom: ${props => props.margin + 'px'};\r\n  :before {\r\n     border-top: 3px solid rgba(0,0,0,0.5);\r\n     transform: translateX(-50%);\r\n     top: 100%;\r\n     left: 20%;\r\n  }\r\n  \r\n`\r\n\r\nexport const TooltipTopLeft = styled(Tooltip)`\r\n  transform: translateX(20%);\r\n  right: 50%;\r\n  bottom: 100%;\r\n  margin-bottom: ${props => props.margin + 'px'};\r\n  :before {\r\n     border-top: 3px solid rgba(0,0,0,0.5);\r\n     transform: translateX(-50%);\r\n     top: 100%;\r\n     left: 80%;\r\n  }\r\n  \r\n`\r\n\r\nconst TooltipBottom = styled(Tooltip)`\r\n  transform: translateX(-20%);\r\n  left: 50%;\r\n  top: 100%;\r\n  margin-top: ${props => props.margin + 'px'};\r\n  :before {\r\n     border-bottom: 3px solid rgba(0,0,0,0.5);\r\n     transform: translateX(-50%);\r\n     bottom: 100%;\r\n     left: 20%;\r\n  }\r\n  \r\n`\r\n\r\nconst TooltipBottomLeft = styled(Tooltip)`\r\n  transform: translateX(20%);\r\n  right: 50%;\r\n  top: 100%;\r\n  margin-top: ${props => props.margin + 'px'};\r\n  :before {\r\n     border-bottom: 3px solid rgba(0,0,0,0.5);\r\n     transform: translateX(-50%);\r\n     bottom: 100%;\r\n     left: 80%;\r\n  }\r\n  \r\n`\r\n\r\nconst TooltipLeft = styled(Tooltip)`\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  right: 100%;\r\n  margin-right: ${props => props.margin + 'px'};\r\n  :before {\r\n     border-left: 3px solid rgba(0,0,0,0.5);\r\n     transform: translateY(-50%);\r\n     left: 100%;\r\n     top: 50%;\r\n  }\r\n  \r\n`\r\n\r\nconst TooltipRight = styled(Tooltip)`\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  left: 100%;\r\n  margin-left: ${props => props.margin + 'px'};\r\n  :before {\r\n     border-right: 3px solid rgba(0,0,0,0.5);\r\n     transform: translateY(-50%);\r\n     right: 100%;\r\n     top: 50%;\r\n  }\r\n  \r\n`","export const createDate = () => {\r\n    const newData = new Date()\r\n    const hours = newData.getHours() < 10 ? '0' +  newData.getHours() : newData.getHours()\r\n    const minutes = newData.getMinutes() < 10 ? '0' +  newData.getMinutes() : newData.getMinutes()\r\n    const seconds = newData.getSeconds() < 10 ? '0' +  newData.getSeconds() : newData.getSeconds();\r\n\r\n\r\n    return  hours + ':' + minutes + ':' + seconds;\r\n\r\n\r\n\r\n};\r\n\r\n","import React, {useEffect, useRef} from 'react';\r\n\r\nconst TestArea = (props) => {\r\n    const textArea = useRef()\r\n\r\n    useEffect(() => {\r\n        props.children.ref.current.focus()\r\n    },[])\r\n\r\n\r\n    return (\r\n        <div>\r\n            {props.children}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TestArea;\r\n","import React, {useEffect, useRef, useState} from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport CanvasSide from \"./Canvas/CanvasSide\";\r\nimport {ErrorMessage, Form, Formik} from 'formik';\r\nimport {ReactComponent as Exit} from \"../../../../assets/images/close-cross.svg\";\r\nimport {ReactComponent as PhotosSvg} from \"../../../../assets/images/camera.svg\";\r\nimport {ReactComponent as GraffitiSvg} from \"../../../../assets/images/color-palette.svg\";\r\nimport * as yup from 'yup'\r\n\r\nimport {ProfileType} from \"../../../../Types/Types\";\r\nimport TooltipComponent from \"../../../common/Tooltip/Tooltip\";\r\nimport {createDate} from '../../../common/Data/createDate';\r\nimport TestArea from './test';\r\n\r\ntype Posts = {\r\n    id: number\r\n    payload: string | object\r\n}\r\ntype Props = {\r\n    addPost: (url: string,date: string) => void\r\n    posts: Array<Posts>\r\n    profile: ProfileType | null\r\n}\r\n\r\nconst validationSchema = yup.object().shape({\r\n    message: yup.string().max(120)\r\n})\r\n\r\n\r\nconst ProfileSide: React.FC<Props> = (props) => {\r\n    const [isCanvas, setCanvas] = useState(false)\r\n    const [isShowTextarea, setTextarea] = useState(false)\r\n    const [fileImg, setFileImg] = useState(null || undefined)\r\n    const textArea = useRef<HTMLTextAreaElement>() as any\r\n    const inputFile = useRef<HTMLInputElement>() as any\r\n    const showTextarea = useRef() as any\r\n    const canvasRef = useRef() as any\r\n\r\n    const fileImages = (event: any) => {\r\n        if (!event) return\r\n        setFileImg(URL.createObjectURL(event) as any)\r\n    };\r\n\r\n\r\n    const onSubmit = (values: any, onSubmitProps: any) => {\r\n        if (!values.message && !values.file && !values.images) return\r\n        props.addPost(values,createDate())\r\n        onSubmitProps.resetForm({values: {}})\r\n        setTextarea(false)\r\n        setFileImg(null as any)\r\n        inputFile.current.value = ''\r\n    }\r\n\r\n    const handleClickOutside = (event: MouseEvent): void => {\r\n        if (showTextarea.current && !showTextarea.current.contains(event.target as Node) && !textArea.current.value && !canvasRef.current) {\r\n            setTextarea(false)\r\n            document.removeEventListener('click', handleClickOutside, true);\r\n        }\r\n    };\r\n\r\n    const handleClickTextArea = () => {\r\n        setTextarea(true)\r\n        document.addEventListener('click', handleClickOutside, true);\r\n    }\r\n\r\n\r\n    const photo = (setFieldValue: (a: string,b: string) => void) => {\r\n        return (\r\n            <Label>\r\n                <IconsWrapper>\r\n                    <TooltipComponent text={'Фотография'} margin={'10'} place={'top'}>\r\n                        <PhotoSvgIcon/>\r\n                    </TooltipComponent>\r\n                </IconsWrapper>\r\n                <input ref={inputFile} id=\"file\" name=\"file\" type=\"file\" onChange={(event: any) => {\r\n                    setFieldValue(\"file\", event.currentTarget.files[0])\r\n                    setTextarea(true)\r\n                    setFieldValue(\"images\", '')\r\n                    fileImages(event.currentTarget.files[0])\r\n                    document.addEventListener('click', handleClickOutside, true);\r\n                }}/>\r\n                <ErrorMessage name='message' component=\"div\"/>\r\n            </Label>\r\n        )\r\n    }\r\n    const graffiti = () => {\r\n        return (\r\n            <IconsWrapper onClick={() => setCanvas(true)}>\r\n                <TooltipComponent text={'Граффити'} margin={'10'} place={'top'}>\r\n                    <Graffiti/>\r\n                </TooltipComponent>\r\n            </IconsWrapper>\r\n        )\r\n    }\r\n    return (\r\n        <ProfileSideContainer>\r\n            <ProfileSideHeader>\r\n                <Formik validationSchema={validationSchema} initialValues={{ message: '', file: '', images: ''}} onSubmit={onSubmit}>\r\n                    {({values, resetForm, setFieldValue, handleChange, handleBlur, isValid}) => (\r\n                        <Form>\r\n                                {isShowTextarea ?\r\n                                    <ShowTextarea ref={showTextarea}>\r\n                                        <TestArea>\r\n                                              <textarea style={{resize: 'none', width: '100%',border: 'none', height: '70px',}} ref={textArea}\r\n                                                        value={values.message}\r\n                                                        placeholder={'Что нового брат?'}\r\n                                                        onFocus={() => true}\r\n                                                        onChange={handleChange}\r\n                                                        onBlur={handleBlur}\r\n                                                        name=\"message\"/>\r\n                                        </TestArea>\r\n                                       <ToolsShow>\r\n                                           <div style={{display: 'flex'}}>\r\n                                               {photo(setFieldValue)}\r\n                                               {graffiti()}\r\n                                           </div>\r\n                                           <Button disabled={!isValid} type=\"submit\">Опубликовать</Button>\r\n                                       </ToolsShow>\r\n\r\n                                    </ShowTextarea> :\r\n                                    <PostTools>\r\n                                        <div style={{display: \"flex\", alignItems: \"center\", width: \"100%\"}}>\r\n                                            <ImgUserWrapper>\r\n                                                <img src={props.profile?.photos.small as string | undefined} alt=\"#\"/>\r\n                                            </ImgUserWrapper>\r\n                                            <PostField onClick={handleClickTextArea}>Что нового брат?</PostField>\r\n                                        </div>\r\n                                        <Tools>\r\n                                            {photo(setFieldValue)}\r\n                                            {graffiti()}\r\n                                        </Tools>\r\n                                    </PostTools>\r\n                                }\r\n\r\n                                {fileImg && <FileImgWrapper>\r\n                                    <Img>\r\n                                        <img src={fileImg} alt=\"#\"/>\r\n                                        <SvgWrapper onClick={() => {setFileImg(null as any); resetForm({values: { message: values.message}} as object);  if(textArea.current) textArea.current.focus()}}>\r\n                                            <TooltipComponent text={'Не прикреплять'} margin={'10'} place={'top'}>\r\n                                                <Icon/>\r\n                                            </TooltipComponent>\r\n                                        </SvgWrapper>\r\n                                    </Img>\r\n                                </FileImgWrapper>\r\n                                }\r\n\r\n                            {isCanvas && <>\r\n                                <CanvasContainer ref={canvasRef}>\r\n                                    <CanvasSideWrapper>\r\n                                        <CanvasSide setFieldValue={setFieldValue}  setTextarea={setTextarea} setFileImg={setFileImg} addPost={props.addPost} setCanvas={setCanvas}/>\r\n                                    </CanvasSideWrapper>\r\n                                </CanvasContainer>\r\n                            </>\r\n                            }\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </ProfileSideHeader>\r\n        </ProfileSideContainer>\r\n    );\r\n};\r\n\r\nexport default ProfileSide\r\n\r\n\r\n\r\nconst ProfileSideContainer = styled.section`\r\n  background-color: white;\r\n  box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n  margin-top: 10px;\r\n  border-radius: 4px;\r\n  margin-bottom: 20px;\r\n`\r\n\r\nconst ProfileSideHeader = styled.div`\r\n  \r\n`\r\n\r\nconst CanvasContainer = styled.div`\r\n    height: 100%;\r\n    width: 100%;\r\n    position: fixed;\r\n    left: 0;\r\n    top: 0;\r\n    z-index: 999;\r\n    background-color: rgba(0, 0, 0, 0.5);\r\n    transition-duration: 1s;\r\n\r\n`\r\n\r\nconst CanvasSideWrapper = styled.div`\r\n  height: 100%;\r\n\r\n`\r\n\r\nconst Label = styled.label`\r\n  input {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst FileImgWrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\nconst Img = styled.div`\r\n  position: relative;\r\n  margin: 10px;\r\n  padding-bottom: 10px;\r\n    img {\r\n      width: 100%;\r\n      border-radius: 4px;\r\n \r\n  }\r\n`\r\n\r\nconst IconsWrapper = styled.div`\r\n    width: 30px;\r\n    height: 100%;\r\n    margin-left: 10px;\r\n`\r\n\r\nconst PhotoSvgIcon = styled(PhotosSvg)`\r\n  width: 100%;\r\n  height: 100%;\r\n  fill: #9e9e9e;\r\n`\r\n\r\nconst Graffiti = styled(GraffitiSvg)`\r\n  width: 100%;\r\n  height: 100%;\r\n  fill: #9e9e9e;\r\n`\r\n\r\nconst SvgWrapper = styled.div<any>`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 20px;\r\n \r\n`\r\nconst Icon = styled(Exit)`\r\n  fill: #ffffff;\r\n  background-color: rgba(0,0,0,0.5);\r\n  padding: 5px;\r\n  width: 100%;\r\n  height: 100%;\r\n  \r\n`\r\n\r\n\r\nconst Button = styled.button<any>`\r\n    padding: 7px 16px 8px;\r\n    margin: 0;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    background-color: #5181b8;\r\n    border: 0;\r\n    border-radius: 4px;\r\n    color: #fff;\r\n    &:hover {\r\n    opacity: 0.88;\r\n    }\r\n    &:active {\r\n    background-color: #4a76a8;\r\n    padding-top: 8px;\r\n    padding-bottom: 7px;\r\n    }\r\n    &:disabled{\r\n    opacity: 0.5;\r\n    }\r\n`\r\nconst PostField = styled.div`\r\n  width: 100%;\r\n  line-height: 30px;\r\n  cursor: text;\r\n`\r\n\r\nconst PostTools = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px;\r\n`\r\n\r\nconst ShowTextarea = styled.div`\r\n  padding: 5px;\r\n`\r\n\r\nconst Tools = styled.div`\r\ndisplay: flex;\r\nalign-items: center;\r\n`\r\nconst ToolsShow = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 5px;\r\n`\r\nconst ImgUserWrapper = styled.div`\r\n  margin-right: 10px;\r\n    img {\r\n        border-radius: 50%;\r\n        width: 40px;\r\n    }\r\n`","\r\nimport {usersAPI} from \"../../api/api-js\";\r\nimport {PhotosType, ProfileType} from \"../../Types/Types\";\r\nimport * as actions from './profile-actions'\r\n\r\nexport const ADD_POST = 'ADD-POST'\r\nexport const DELETE_POST = 'DELETE-POST'\r\nexport const SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nexport const SET_USER_STATUS = 'SET_USER_STATUS'\r\nexport const SET_PHOTO_SUCCESS = 'SET_PHOTO_SUCCESS'\r\nexport const GET_PROFILE = 'GET_PROFILE'\r\nexport const GET_USER_STATUS = 'GET_USER_STATUS'\r\nexport const UPDATE_USER_STATUS = 'UPDATE_USER_STATUS'\r\nexport const SAVE_PHOTO = 'SAVE_PHOTO'\r\nexport const SAVE_PROFILE = 'SAVE_PROFILE'\r\nexport const SAVE_PROFILE_SUCCESS = 'SAVE_PROFILE_SUCCESS'\r\n\r\ntype Posts = {\r\n    id: number\r\n    payload: string | object\r\n    date: string\r\n}\r\nlet initialState = {\r\n    posts: [] as Array<Posts>,\r\n    profile: null as ProfileType | null,\r\n    status: '',\r\n    isSaveProfile: false,\r\n    // photos: null as PhotosType | null\r\n}\r\n\r\nlet postId = 1\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nconst profileReducer = (state = initialState, action: ActionType): InitialStateType => {\r\n\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            return {\r\n                ...state , posts: [{id: postId++, payload: action.newPost, date: action.date},...state.posts,]\r\n            }\r\n        }\r\n\r\n        case DELETE_POST: {\r\n            const lw = state.posts.findIndex(w => w.id === action.id )\r\n            return  {\r\n                ...state, posts: [\r\n                    ...state.posts.slice(0,lw),\r\n                    ...state.posts.slice(lw + 1),\r\n                ]\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state, status: action.status,\r\n            }\r\n        }\r\n        case SET_PHOTO_SUCCESS: {\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photo} as ProfileType\r\n            }\r\n        }\r\n\r\n        case SAVE_PROFILE_SUCCESS: {\r\n            return {\r\n                ...state, isSaveProfile: !state.isSaveProfile\r\n            }\r\n        }\r\n\r\n        default: return state\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\ntype ActionType = ReturnType<InferValueType<typeof actions>>\r\ntype InferValueType<T> = T extends {[key: string]: infer U} ? U : never\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export const getProfile = (userId: number) => async (dispatch: any) => {\r\n//     const data = await usersAPI.getProfile(userId)\r\n//         dispatch(actions.setUserProfile(data.data))\r\n//\r\n// }\r\n\r\n// export const getUserStatus = (userId: number) => async (dispatch: any) => {\r\n//    const data =  await usersAPI.getStatus(userId)\r\n//         dispatch(actions.setUserStatus(data))\r\n// }\r\n\r\n// export const updateUserStatus = (status: string) => async (dispatch: any) => {\r\n//    const response = await usersAPI.updateStatus(status)\r\n//         if (response.data.resultCode === 0){\r\n//             dispatch(actions.setUserStatus(status))\r\n//         }\r\n//\r\n// }\r\n\r\n// export const savePhoto = (photo: PhotosType) => async (dispatch: any) => {\r\n//       let response = await usersAPI.savePhoto(photo)\r\n//         if (response.data.resultCode === 0){\r\n//             dispatch(actions.savePhotoSuccess(response.data.data.photos))\r\n//         }\r\n//\r\n// }\r\n\r\n// export const saveProfile = (profile: ProfileType) => async (dispatch: any) => {\r\n//     let response = await usersAPI.saveProfile(profile)\r\n//     if (response.data.resultCode === 0){\r\n//         // dispatch(savePhotoSuccess(response.data.data.photos))\r\n//     }\r\n//\r\n// }\r\n\r\nexport default profileReducer","import {PhotosType, ProfileType} from \"../../Types/Types\";\r\nimport {\r\n    ADD_POST, DELETE_POST,\r\n    GET_PROFILE,\r\n    GET_USER_STATUS,\r\n    SAVE_PHOTO,\r\n    SAVE_PROFILE,\r\n    SAVE_PROFILE_SUCCESS,\r\n    SET_PHOTO_SUCCESS,\r\n    SET_USER_PROFILE,\r\n    SET_USER_STATUS,\r\n    UPDATE_USER_STATUS\r\n} from \"./profile-reducer\";\r\n\r\n\r\nexport const addPost = (newPost: string,date: string) => ({type: ADD_POST, newPost,date}as const)\r\nexport const deletePost = (id: number) => ({type: DELETE_POST,id}as const)\r\nexport const setUserProfile = (profile: ProfileType) => ({type: SET_USER_PROFILE, profile}as const)\r\nexport const setUserStatus = (status: string) => ({type: SET_USER_STATUS, status}as const)\r\nexport const savePhotoSuccess = (photo: PhotosType) => ({type: SET_PHOTO_SUCCESS, photo}as const)\r\nexport const getProfile = (userId: number) => ({type:GET_PROFILE,userId}as const)\r\nexport const getUserStatus = (userId: number) => ({type: GET_USER_STATUS,userId}as const)\r\nexport const updateUserStatus = (status: string) => ({type: UPDATE_USER_STATUS,status}as const)\r\nexport const savePhoto = (photo: object) => ({type: SAVE_PHOTO,photo}as const)\r\nexport const saveProfile = (values: object) => ({type: SAVE_PROFILE,values}as const)\r\nexport const saveProfileSuccess = () =>({type: SAVE_PROFILE_SUCCESS}as const)","import {AppStateType} from \"../redux-store\";\r\n\r\nexport const selectProfile = (state: AppStateType) => {\r\n    return state.profilePage.profile\r\n\r\n}\r\n\r\nexport const selectIsSaveProfile = (state: AppStateType) => {\r\n    return state.profilePage.isSaveProfile\r\n\r\n}\r\n\r\nexport const selectPosts = (state: AppStateType) => {\r\n    return state.profilePage.posts\r\n}","import React, {useEffect, useRef, useState} from 'react';\r\nimport {useTransition, animated} from 'react-spring'\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from \"../../../../redux/redux-store\";\r\nimport ProfileSide from \"./ProfileSide\";\r\nimport {addPost, deletePost} from \"../../../../redux/Profile/profile-actions\";\r\nimport {selectPosts, selectProfile} from '../../../../redux/Profile/profile-select';\r\nimport { ReactComponent as Exit } from \"../../../../assets/images/close-cross.svg\";\r\nimport {ProfileType} from \"../../../../Types/Types\";\r\nimport styled from \"styled-components/macro\";\r\nimport TooltipComponent from \"../../../common/Tooltip/Tooltip\";\r\n\r\n\r\ntype Posts = {\r\n    id: number\r\n    payload: string | object\r\n    date: string\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    posts: Array<Posts>\r\n    profile: ProfileType | null\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    addPost: (url: string,date: string) => void\r\n    deletePost: (id: number) => void\r\n}\r\n\r\ntype Props = MapStatePropsType & MapDispatchPropsType\r\n\r\nconst ProfileSideContainer: React.FC<Props> = (props) => {\r\n    const [isAnimation, setAnimation] = useState(true);\r\n\r\n    useEffect(() => {\r\n        setAnimation(false)\r\n    },[])\r\n\r\n    const transitions = useTransition(props.posts, (item: any) => item.id, {\r\n        immediate: isAnimation,\r\n        from: { transform: 'translate3d(0,-40px,0)' },\r\n        enter: { transform: 'translate3d(0,0px,0)' },\r\n        leave: { transform: 'translate3d(0,-40px,0)' },\r\n    })\r\n\r\n\r\n    const createInfo = (item: any) => {\r\n                return (\r\n                    <>\r\n                        {item.payload.message ? <PostMessage>{item.payload.message}</PostMessage> : null}\r\n                        {item.payload.file ? <PostImg src={URL.createObjectURL(item.payload.file)}/> : null}\r\n                        {item.payload.images ? <PostImg src={item.payload.images}/> : null}\r\n                    </>\r\n                )\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <ProfileSide {...props}/>\r\n            {transitions.map((item: any) => {\r\n                return (\r\n                    <animated.div style={item.props} key={item.key}>\r\n                        <PostContent>\r\n                            <PostHeader>\r\n                                <Info>\r\n                                    <ImgWrapper>\r\n                                        <img src={props.profile?.photos.small as string | undefined} alt=\"#\"/>\r\n                                    </ImgWrapper>\r\n                                    <InfoDateName>\r\n                                            <h3>{props.profile?.fullName}</h3>\r\n                                            <time>{item.item.date}</time>\r\n                                    </InfoDateName>\r\n                                </Info>\r\n                                <PostHeaderInfo>\r\n                                    <SvgWrapper onClick={() => {props.deletePost(item.item.id)}}>\r\n                                        <TooltipComponent place={'top'} margin={'5'} text=\"Удалить\">\r\n                                            <Icon/>\r\n                                        </TooltipComponent>\r\n                                    </SvgWrapper>\r\n                                </PostHeaderInfo>\r\n                            </PostHeader>\r\n                            {\r\n                                createInfo(item.item)\r\n                            }\r\n                        </PostContent>\r\n                    </animated.div>\r\n                )\r\n            })}\r\n        </>\r\n\r\n    );\r\n};\r\n\r\n\r\nconst MapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    posts: selectPosts(state),\r\n    profile: selectProfile(state)\r\n})\r\n\r\nexport default connect<MapStatePropsType, MapDispatchPropsType, {}, AppStateType>(MapStateToProps, {addPost,deletePost})(ProfileSideContainer);\r\n\r\n\r\nconst PostContent = styled.div`\r\n  background-color: white;\r\n  box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n  border-radius: 4px;\r\n  margin-bottom: 25px;\r\n  padding: 20px;\r\n`\r\n\r\nconst PostImg = styled.img`\r\n  width: 100%;\r\n  border: 1px solid #e7e8ec;\r\n  border-radius: 4px;\r\n`\r\n\r\nconst PostHeader = styled.div`\r\ndisplay: flex;\r\nmargin-bottom: 20px;\r\n`\r\n\r\nconst InfoDateName = styled.div`\r\n max-width: 100%;\r\n min-width: 10px;\r\n     h3 {\r\n         font-weight: 600;\r\n         color: #2a5885;\r\n         overflow: hidden;\r\n         text-overflow: ellipsis;\r\n     }\r\n     time {\r\n          display: inline-block;\r\n          margin-top: 5px;\r\n          color: #939393;\r\n     }\r\n`\r\n\r\nconst ImgWrapper = styled.div`\r\n  margin-right: 10px;\r\n  height: 100%;\r\n    img {\r\n        border-radius: 50%;\r\n        width: 40px;\r\n    }\r\n`\r\n\r\nconst PostHeaderInfo = styled.div`\r\nmargin-left: auto;\r\n`\r\n\r\nconst Info = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  max-width: 100%;\r\n`\r\n\r\nconst SvgWrapper = styled.div<any>`\r\n  width: 10px;\r\n`\r\nconst Icon = styled(Exit)`\r\n  fill: #cecaca;\r\n  width: 100%;\r\n  height: 100%;\r\n  \r\n`\r\n\r\nconst PostMessage = styled.p`\r\n  word-break: break-all;\r\n  margin-bottom: 10px;\r\n`\r\n","import React, {useEffect, useState} from 'react'\r\nimport Preloader from \"../../Preloader/Preloader\";\r\nimport ProfileStatusHook from \"./ProfileStatus/ProfileStatusHooks\";\r\nimport {ProfileType, UserType} from \"../../../Types/Types\";\r\nimport styled, { keyframes } from \"styled-components/macro\";\r\nimport AvatarPage from \"./Avatar/AvatarPage\";\r\nimport Friends from './Friends/Friends';\r\nimport ProfileSideContainer from \"./ProfileSide/ProfileSideContainer\";\r\n\r\n\r\ntype PropsType = {\r\n    savePhoto: (obj: object) => void\r\n    isOwner: boolean\r\n    userId: number | null\r\n    profilePage: ProfileType | null\r\n    userStatus: string\r\n    updateStatus: (status: string) => void\r\n    users: Array<UserType>\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n    followingInProgress: Array<number>\r\n    getUsersSubs: (userId: number | null) => void\r\n    friendsCount: number\r\n    getRandomFriends: () => void\r\n    randomFriends: Array<UserType>\r\n    auth: boolean\r\n}\r\n\r\nconst MyProfile: React.FC<PropsType> = (props) => {\r\n    const [isMoreInfo, openMoreInfo] = useState(false)\r\n    useEffect(() => {\r\n        openMoreInfo(false)\r\n    },[props.isOwner])\r\n\r\n    if (!props.profilePage) {\r\n        return (\r\n            <>\r\n                <SectionWrapperPreloader>\r\n                    <LeftBlockPreloader>\r\n                        <AvatarPreloader/>\r\n                        <FriendsContainerPreloader/>\r\n                    </LeftBlockPreloader>\r\n                    <RightBlockPreloader>\r\n                        <PageBlockPreloader/>\r\n                        <ProfileSidePreloader/>\r\n                    </RightBlockPreloader>\r\n                </SectionWrapperPreloader>\r\n            </>\r\n        )\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <SectionWrapper>\r\n            <LeftBlock>\r\n                <AvatarPage userId={props.userId}\r\n                            users={props.users}\r\n                            isOwner={props.isOwner}\r\n                            savePhoto={props.savePhoto}\r\n                            photos={props.profilePage.photos}\r\n                            follow={props.follow}\r\n                            unFollow={props.unFollow}\r\n                            followingInProgress={props.followingInProgress}\r\n                            getUsersSubs={props.getUsersSubs}\r\n                />\r\n                {props.isOwner && <Friends getRandomFriends={props.getRandomFriends} friendsCount={props.friendsCount} randomFriends={props.randomFriends}/>}\r\n            </LeftBlock>\r\n            <RightBlock>\r\n                <PageBlock>\r\n                    <PageTop>\r\n                        <h1>{props.profilePage.fullName}</h1>\r\n                        <ProfileStatusHook isOwner={props.isOwner} status={props.userStatus} updateStatus={props.updateStatus}/>\r\n                    </PageTop>\r\n                    <ProfileInfo>\r\n                        <ProfileInfoItem>\r\n                            {props.isOwner ?\r\n                                <><InfoLabel>День рождения: </InfoLabel><InfoLabeled>{'13 декабря 1993 г.'}</InfoLabeled></>\r\n                                : null}\r\n                        </ProfileInfoItem>\r\n                        <ProfileInfoItem>\r\n                            {props.isOwner ?\r\n                                <><InfoLabel>Город: </InfoLabel><InfoLabeled>{'Москва'}</InfoLabeled></>\r\n                                : null}\r\n                        </ProfileInfoItem>\r\n                        <ProfileInfoItem>\r\n                            <InfoLabel>Skills: </InfoLabel>\r\n                            <InfoLabeled>{props.profilePage.lookingForAJobDescription ? props.profilePage.lookingForAJobDescription : 'пользователь не добавил('}</InfoLabeled>\r\n                        </ProfileInfoItem>\r\n                        <ProfileInfoItem>\r\n                            <InfoLabel>В поисках работы: </InfoLabel>\r\n                            <InfoLabeled>{props.profilePage.lookingForAJob ? 'Да' : 'Нет'}</InfoLabeled>\r\n                        </ProfileInfoItem>\r\n                        <ProfileInfoItem>\r\n                            <InfoLabel>Обо мне: </InfoLabel>\r\n                            <InfoLabeled>{props.profilePage.aboutMe ? props.profilePage.aboutMe : 'пользователь не добавил('}</InfoLabeled>\r\n                        </ProfileInfoItem>\r\n                        <MoreInfo onClick={() => openMoreInfo(prevState => !prevState)}>\r\n                            <a href=\"#\">{isMoreInfo ? 'Скрыть подробную информацию' : 'Показать подробную информацию'}</a>\r\n                        </MoreInfo>\r\n                        {isMoreInfo &&\r\n                        <>\r\n                            <BorderRight>Контакты</BorderRight>\r\n                            {Object.values(props.profilePage.contacts).some((i) => i)\r\n                                ? Object.entries(props.profilePage.contacts).map((i,index) => {\r\n                                        return i[1] ? <ProfileInfoItem key={index}>\r\n                                            <InfoLabel>{i[0]}</InfoLabel>\r\n                                            <InfoLabeled href={i[1]} target=\"_blank\">{i[1]}</InfoLabeled>\r\n                                        </ProfileInfoItem> : null\r\n                                    }\r\n                                ) : <p>Пользователь еще не добавил контакты</p>}\r\n                        </>\r\n                        }\r\n\r\n                    </ProfileInfo>\r\n                </PageBlock>\r\n                {props.isOwner && <ProfileSideContainer/>}\r\n            </RightBlock>\r\n        </SectionWrapper>\r\n    )\r\n}\r\n\r\nexport default MyProfile\r\n\r\nconst gradient = keyframes`\r\n    0%{\r\n      background-position: 0 10%;\r\n    }\r\n    50%{\r\n       background-position: 0 100%;\r\n    }\r\n    100%{\r\n       background-position: 0 10%;\r\n    }\r\n`;\r\n\r\nconst ProfileSidePreloader = styled.div`\r\n  background: linear-gradient(51deg, rgb(215,215,215) 0%, rgba(255,255,255,1) 20%, rgb(201,200,200) 100%);\r\n  animation: ${gradient} 1.5s linear infinite;;\r\n  border-radius: 4px;\r\n  box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n  min-height: 50px;\r\n  margin-top: 10px;\r\n`\r\n\r\nconst SectionWrapper = styled.section`\r\n    display: grid;\r\n    grid-template-columns: [left]1fr [right]2fr;\r\n    grid-gap: 10px;\r\n`\r\n\r\nconst LeftBlock = styled.div`\r\n  grid-column: left;\r\n\r\n`\r\n\r\nconst RightBlock = styled.div`\r\n   grid-column: right;\r\n   min-width: 0;\r\n`\r\n\r\n\r\nconst PageBlock = styled.div`\r\n  padding: 15px 20px;\r\n  background-color: white;\r\n  border-radius: 4px;\r\n  grid-column: right;\r\n  box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n`\r\n\r\nconst PageTop = styled.div`\r\n  border-bottom: 1px solid #e7e8ec;\r\n  padding-bottom: 15px;\r\n  h1 {\r\n        font-size: 30px;\r\n        line-height: 25px;\r\n        font-weight: 400;\r\n        padding-bottom: 5px;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n  }\r\n\r\n`\r\nconst ProfileInfo = styled.div`\r\n  padding-top: 10px;\r\n  word-break: break-all;\r\n  padding-bottom: 15px;\r\n \r\n`\r\n\r\nconst ProfileInfoItem = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 2fr;\r\n  margin-bottom: 10px;\r\n \r\n`\r\nconst InfoLabel = styled.div`\r\n color: #828282;\r\n`\r\nconst InfoLabeled = styled.a`\r\n   color: #2a5885;\r\n   margin-left: 10px;\r\n`\r\n\r\nconst MoreInfo = styled.div`\r\n  margin-top: 15px;\r\n  display: flex;\r\n  justify-content: center;\r\n  a {\r\n    display: block;\r\n    height: 34px;\r\n    line-height: 32px;\r\n    color: #2a5885;\r\n    \r\n  }\r\n  :hover {\r\n  background-color: #d3d9de;\r\n  border-radius: 5px;\r\n  }\r\n`\r\nconst BorderRight = styled.div`\r\nmargin: 15px 0;\r\n overflow: hidden;\r\n :after {\r\ncontent: '';\r\ndisplay: inline-block;\r\nvertical-align: middle;\r\nwidth: 100%;\r\nheight: 1px;\r\nbackground: #e7e8ec;\r\nborder: solid #FFF;\r\nborder-width: 0 5px;\r\nmargin-right: -100%;\r\n}\r\n    \r\n`\r\n\r\n\r\n\r\n// Снизу Стили для Прелоудера\r\n\r\nconst SectionWrapperPreloader = styled.section`\r\n    display: grid;\r\n    grid-template-columns: [left]1fr [right]2fr;\r\n    grid-gap: 10px;\r\n`\r\n\r\nconst FriendsContainerPreloader = styled.div`\r\n  background: linear-gradient(51deg, rgb(215,215,215) 0%, rgba(255,255,255,1) 20%, rgb(201,200,200) 100%); /* w3c */\r\n  background-size: 450% 460%;\r\n  animation: ${gradient} 1.5s linear infinite;;\r\n  box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n  border-radius: 4px;\r\n  margin-top: 10px;\r\n  text-align: center;\r\n  min-width: 258px;\r\n  min-height: 158px;\r\n\r\n`\r\n\r\nconst AvatarPreloader = styled.div`\r\n      background: linear-gradient(51deg, rgb(215,215,215) 0%, rgba(255,255,255,1) 20%, rgb(201,200,200) 100%); /* w3c */\r\n      background-size: 450% 460%;\r\n      animation: ${gradient} 1.5s linear infinite;;\r\n      min-width: 218px;\r\n      min-height: 218px;\r\n      padding: 15px 20px;\r\n      grid-column: left;\r\n      border-radius: 4px;\r\n      box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n \r\n`\r\n\r\nconst LeftBlockPreloader = styled.div`\r\n  grid-column: left;\r\n  min-width: 200px;\r\n \r\n`\r\n\r\nconst RightBlockPreloader = styled.div`\r\n   grid-column: right;\r\n\r\n`\r\n\r\nconst PageBlockPreloader = styled.div`\r\n  padding: 15px 20px;\r\n  background: linear-gradient(51deg, rgb(215,215,215) 0%, rgba(255,255,255,1) 20%, rgb(201,200,200) 100%); /* w3c */\r\n  background-size: 450% 460%;\r\n  animation: ${gradient} 1.5s linear infinite;;\r\n  border-radius: 4px;\r\n  grid-column: right;\r\n  box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n  min-width: 476px;\r\n  min-height: 252px;\r\n \r\n`\r\n","import React from 'react'\r\nimport MyProfile from './MyProfile/MyProfile'\r\nimport {ProfileType, UserType} from \"../../Types/Types\";\r\n\r\n\r\ntype PropsType = {\r\n    isOwner: boolean\r\n    userId: number | null\r\n    profilePage: ProfileType | null\r\n    userStatus: string\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (obj: object) => void\r\n    users: Array<UserType>\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n    followingInProgress: Array<number>\r\n    getUsersSubs: (userId: number | null) => void\r\n    friendsCount: number\r\n    getRandomFriends: () => void\r\n    randomFriends: Array<UserType>\r\n    auth: boolean\r\n}\r\n\r\nconst Profile: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <main>\r\n            <MyProfile {...props} users={props.users} savePhoto={props.savePhoto} isOwner={props.isOwner} profilePage={props.profilePage} userStatus={props.userStatus} updateStatus={props.updateStatus}/>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Profile","import React, {useEffect} from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from 'react-router-dom';\r\nimport {ProfileType, UserType} from \"../../Types/Types\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {getProfile, getUserStatus, savePhoto, updateUserStatus} from \"../../redux/Profile/profile-actions\";\r\nimport {follow, getRandomFriends,getUsersSubs, unFollow} from \"../../redux/Users/users-action\";\r\nimport {selectFriendsCount, selectRandomFriends} from \"../../redux/Users/users-select\";\r\n\r\ntype WithRouterMatch = {\r\n    match: {\r\n        isExact: boolean\r\n        params: {\r\n            userId: string | undefined\r\n        }\r\n        path: string\r\n        url: string\r\n    }\r\n}\r\n\r\ntype MapStatePropsType = {\r\n    authId: number | null\r\n    profilePage: ProfileType | null\r\n    userStatus: string\r\n    auth: boolean\r\n    users: Array<UserType>\r\n    followingInProgress: Array<number>\r\n    friendsCount: number\r\n    randomFriends: Array<UserType>\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getProfile: (userId: number | null) => void\r\n    getUsersSubs: (userId: number | null) => void\r\n    getUserStatus: (userId: number | null) => void\r\n    updateUserStatus: (status: string) => void\r\n    savePhoto: (obj: object) => void\r\n    saveProfile: (profile: ProfileType) => void\r\n    follow: (userId: number) => void\r\n    unFollow: (userId: number) => void\r\n    getRandomFriends: () => void\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType & WithRouterMatch\r\n\r\n\r\nconst  ProfileContainerAPI:React.FC<PropsType> = (props) => {\r\n\r\n\r\n    useEffect(() => {\r\n        refreshProfile()\r\n    },[props.match.params.userId,props.authId])\r\n\r\n   const refreshProfile = () => {\r\n        let userId: number | null = Number(props.match.params.userId)\r\n        if (!userId) {\r\n            userId = props.authId\r\n            if (!userId) {\r\n                // @ts-ignore\r\n                props.history.push('/login')\r\n            }\r\n        }\r\n        if (userId) {\r\n           props.getProfile(userId)\r\n           props.getUserStatus(userId)\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n        return (\r\n\r\n            <Profile {...props} userId={Number(props.match.params.userId)} users={props.users} savePhoto={props.savePhoto} isOwner={!props.match.params.userId} profilePage={props.profilePage}\r\n                     updateStatus={props.updateUserStatus}/>\r\n        );\r\n\r\n}\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => ({\r\n    profilePage: state.profilePage.profile,\r\n    userStatus: state.profilePage.status,\r\n    authId: state.auth.id,\r\n    auth: state.auth.isAuth,\r\n    users: state.usersPage.users,\r\n    followingInProgress: state.usersPage.followingInProgress,\r\n    friendsCount: selectFriendsCount(state),\r\n    randomFriends: selectRandomFriends(state),\r\n})\r\n\r\n\r\nconst ProfileContainer = compose\r\n(\r\n    connect(mapStateToProps, {getProfile, getUserStatus,getUsersSubs,getRandomFriends, updateUserStatus, savePhoto,follow,unFollow}),\r\n    withRouter\r\n)\r\n(ProfileContainerAPI)\r\nexport default ProfileContainer","import React from 'react';\r\n\r\ntype PropsType = {\r\n    height: string\r\n    width: string\r\n    fill: string\r\n}\r\n\r\nconst ArrowSvg: React.FC<PropsType> = ({height, width, fill}) => {\r\n    return (\r\n        <svg width={width} height={height} fill={fill} viewBox=\"0 0 451.847 451.847\" aria-labelledby='title'>\r\n            <path d=\"M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751\r\n\t\tc12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0\r\n\t\tc12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z\"/>\r\n        </svg>\r\n    );\r\n};\r\n\r\nexport default ArrowSvg;\r\n","import React, {useRef, useState} from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport ArrowSvg from \"../../assets/images/arrowSvg\";\r\nimport styled, {keyframes} from \"styled-components/macro\"\r\nimport {CSSTransition} from 'react-transition-group';\r\n\r\n\r\ntype PropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    loginOut: () => void\r\n    photoSmall: string | undefined | null\r\n}\r\nconst transitionName = `example`;\r\n\r\nconst Header: React.FC<PropsType> = ({isAuth, login, loginOut, photoSmall}) => {\r\n\r\n\r\n    const [isOpenModal, setOpenModal] = useState(false)\r\n    const ref = useRef<HTMLUListElement>(null);\r\n    const loginBlockRef = useRef<HTMLDivElement>(null)\r\n\r\n\r\n    const handleClickOutside = (event: MouseEvent): void => {\r\n        if (ref.current && !ref.current.contains(event.target as Node) && !loginBlockRef.current!.contains(event.target as Node)) {\r\n            setOpenModal(false);\r\n            document.removeEventListener('click', handleClickOutside, true);\r\n\r\n        }\r\n\r\n    };\r\n\r\n\r\n    const hadleClickDropDown = () => {\r\n        if (isAuth) {\r\n            setOpenModal(!isOpenModal)\r\n            document.addEventListener('click', handleClickOutside, true);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <HeaderWrapper>\r\n                <Container>\r\n                    <Logo src=\"https://vk.com/images/svg_icons/ic_head_logo.svg\" alt=\"#\"/>\r\n                    <LoginWrapper onClick={hadleClickDropDown}>\r\n                        {\r\n                            isAuth ?\r\n                                <LoginTrue ref={loginBlockRef}>\r\n                                    <LoginName>{login}</LoginName>\r\n                                    {photoSmall && <LoginPhotoSmall src={photoSmall} alt=\"#\"/>}\r\n                                    <ArrowSvgWrapper><ArrowSvg height='11' width='11' fill='white'/></ArrowSvgWrapper>\r\n                                </LoginTrue> :\r\n                                <LoginFalse><NavLink to={'/login'}>Login</NavLink></LoginFalse>\r\n                        }\r\n\r\n\r\n                        <CSSTransition in={isOpenModal} classNames={transitionName} timeout={300} mountOnEnter unmountOnExit>\r\n                            <DropDownWrapper ref={ref}>\r\n                                <DropDownItem onClick={() => loginOut()}><a href=\"#\">Выйти</a></DropDownItem>\r\n                            </DropDownWrapper>\r\n                        </CSSTransition>\r\n\r\n\r\n                    </LoginWrapper>\r\n                </Container>\r\n            </HeaderWrapper>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Header\r\n\r\n\r\nconst HeaderWrapper = styled.header`\r\n  background-color: #4974a5;\r\n  height: 100%;\r\n  padding: 0px 5px;\r\n`\r\n\r\nconst Container = styled.div`\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  position: relative;\r\n \r\n`\r\n\r\nconst Logo = styled.img`\r\n   width: 50px;\r\n`\r\n\r\nconst LoginWrapper = styled.div`\r\n  color: #fff;\r\n  font-weight: bold;\r\n  font-size: 25px;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n \r\n`\r\n\r\nconst LoginTrue = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  height: 100%;\r\n  padding: 5px 5px;\r\n  min-height: 50px;\r\n  \r\n  :hover {\r\n  background-color: rgba(0,20,51,.12);\r\n\r\n  }\r\n`\r\n\r\nconst LoginName = styled.span`\r\n  cursor: pointer;\r\n`\r\n\r\nconst LoginPhotoSmall = styled.img`\r\n  width: 40px;\r\n  border-radius: 50%;\r\n  margin-left: 10px;\r\n`\r\n\r\nconst LoginFalse = styled.div`\r\n  padding: 12.5px 0;\r\n  min-height: 50px;\r\n  a {\r\n  color: white;\r\n  }\r\n`\r\n\r\n\r\nconst translateYtrue = keyframes`\r\n  from {\r\n    transform: translateY(0);\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    transform: translateY(5px);\r\n    opacity: 1;\r\n  }\r\n`\r\nconst translateYfalse = keyframes`\r\n    to {\r\n    transform: translateY(-10px);\r\n      }\r\n  from {\r\n    transform: translateY(100px);\r\n  }\r\n`\r\nconst rotate = keyframes`\r\n  0% {\r\n      transform: rotate(0);\r\n      \r\n  }\r\n  100% {\r\n    transform: rotate(360deg) \r\n  \r\n  }\r\n`\r\n\r\n\r\nconst DropDownWrapper = styled.ul`\r\n  position: absolute;\r\n  background-color: #fff;\r\n  border: 1px solid #c5d0db;\r\n  padding: 4px 0;\r\n  border-radius: 4px;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.8);\r\n  min-width: 206px;\r\n  max-width: 230px;\r\n  width: auto;\r\n  right: 10px;\r\n  top: 60px;\r\n   &.${transitionName}-exit-active{animation: ${rotate} 0.3s linear reverse};\r\n   &.${transitionName}-enter-active{animation: ${translateYtrue} 0.2s forwards}  ;\r\n   \r\n             \r\n  :before {\r\n      position: absolute;\r\n      pointer-events: none;\r\n      content: '';\r\n      height: 0;\r\n      width: 0;\r\n      bottom: 100%;\r\n      margin: 0 -6px;\r\n      right: 42px;\r\n      border: 6px solid transparent;\r\n      border-bottom: 6px solid #fff;\r\n  }\r\n`\r\n\r\nconst DropDownItem = styled.li`\r\n padding: 0 15px;\r\n :hover {\r\n      background-color: #e5ebf1;\r\n }\r\n a {\r\n      color: #2a5885;\r\n      font-size: 14px;\r\n      font-weight: 500;\r\n      line-height: 30px;\r\n }\r\n`\r\n\r\nconst ArrowSvgWrapper = styled.div`\r\n  margin-left: 10px;\r\n`\r\n\r\n","import {createReducer} from \"@reduxjs/toolkit\";\r\nimport * as actions from \"./auth-actions\"\r\n\r\n\r\nexport const SET_USER_DATA = 'auth-reducer/SET_USER_DATA'\r\nexport const SET_LOGIN_AUTH = 'auth-reducer/SET_LOGIN_AUTH'\r\nexport const LOGIN_OUT = 'auth-reducer/LOGIN_OUT'\r\nexport const DELETE_LOGIN = 'auth-reducer/DELETE_LOGIN'\r\nexport const SET_PROFILE_PHOTO = 'auth-reducer/SET_PROFILE_PHOTO'\r\nexport const SET_ERROR_MESSAGES = 'auth-reducer/SET_ERROR_MESSAGES'\r\nexport const SET_CAPTCHA = 'auth-reducer/SET_CAPTCHA'\r\n\r\nlet initialState = {\r\n    id: null as number | null,\r\n    login: null as string | null,\r\n    email: null as string | null,\r\n    messages: null as string | null,\r\n    isAuth: false,\r\n    photo: null as string | null,\r\n    captcha: null as string | null,\r\n}\r\n\r\nconst authReducer = createReducer(initialState, {\r\n    [SET_USER_DATA]: (state, action: ReturnType<typeof actions.setUserData>) => {\r\n        return {...state, ...action.data, isAuth: action.data.isAuth}\r\n    },\r\n    [SET_PROFILE_PHOTO]:(state, action: ReturnType<typeof actions.setProfilePhoto>) => {\r\n        return {...state, photo: action.photo }\r\n    },\r\n    [SET_ERROR_MESSAGES]:(state,action:ReturnType<typeof actions.setErrorMessages>) => {\r\n        return {...state, messages: action.error}\r\n    },\r\n    [SET_CAPTCHA]:(state,action:ReturnType<typeof actions.setCaptcha>) => {\r\n        return {...state, captcha: action.url}\r\n    },\r\n    [DELETE_LOGIN]:(state) => {\r\n        return {...state,id:null, login: null, email: null, isAuth: false,\r\n        messages: null, captcha: null\r\n        }\r\n    }\r\n})\r\n\r\nexport default authReducer","import {LOGIN_OUT, SET_CAPTCHA, SET_ERROR_MESSAGES, SET_LOGIN_AUTH, SET_PROFILE_PHOTO, SET_USER_DATA} from \"./auth-reducer\";\r\n\r\n\r\n\r\nexport const setUserData = (id: number | null, login: string | null, email: string | null, isAuth: boolean) => ({\r\n    type: SET_USER_DATA,\r\n    data: {id, login, email, isAuth}\r\n})\r\n\r\nexport const loginAuth = (email: string, password: number, rememberMe: boolean, captcha: string) => ({\r\n    type: SET_LOGIN_AUTH,\r\n    payload: {\r\n        email,password,rememberMe,captcha\r\n    }\r\n})\r\n\r\nexport const loginOut = () => ({\r\n    type: LOGIN_OUT,\r\n})\r\n\r\nexport const setProfilePhoto = (photo: string) => ({\r\n    type: SET_PROFILE_PHOTO,\r\n    photo: photo,\r\n})\r\n\r\nexport const setErrorMessages = (error: string) => ({\r\n    type: SET_ERROR_MESSAGES,\r\n    error: error\r\n})\r\nexport const setCaptcha = (url: string) => ({type: SET_CAPTCHA,url})","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {loginOut} from \"../../redux/Auth/auth-actions\";\r\n\r\n\r\ntype MapStatePropsType = {\r\n    auth: {\r\n        id: number | null,\r\n        login: string | null,\r\n        isAuth: boolean\r\n    }\r\n    profilePhotos: string | null\r\n\r\n\r\n\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    loginOut: () => void\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nconst HeaderContainerAPI: React.FC<PropsType> = (props) => {\r\n\r\n\r\n    return (\r\n        <Header loginOut={props.loginOut} photoSmall={props.profilePhotos} login={props.auth.login} isAuth={props.auth.isAuth}/>\r\n    );\r\n\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => ({auth: state.auth, profilePhotos: state.auth.photo})\r\n\r\n\r\nconst HeaderContainer = connect<MapStatePropsType, MapDispatchPropsType, {}, AppStateType>(mapStateToProps, {loginOut})(HeaderContainerAPI)\r\n\r\nexport default HeaderContainer;","import React, {useState} from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport {ErrorMessage, Field, Form, Formik} from 'formik';\r\nimport * as yup from 'yup'\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {loginAuth} from \"../../redux/Auth/auth-actions\";\r\nimport {captchaSelect, isAuthSelect, messagesErrorSelect} from '../../redux/Auth/auth-select';\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\ntype MapStatePropsType = {\r\n    errorMessage: string | null\r\n    captcha: string | null\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    loginAuth: (login: string, password: number, rememberMe: boolean, captcha: string) => void\r\n}\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\nconst Login: React.FC<PropsType> = (props) => {\r\n\r\n    const [showPassword, setShowPassword] = useState(false)\r\n\r\n    const validationSchema = yup.object().shape({\r\n        email: yup.string().max(30),\r\n        password: yup.string().max(30),\r\n    })\r\n\r\n    const submit = (values: any) => {\r\n        const {email, password, checkbox,captcha} = values\r\n        props.loginAuth(email, password, checkbox,captcha)\r\n    }\r\n\r\n\r\n    return (\r\n        <FormWrapper>\r\n            {props.errorMessage && <ErrorWrapper>\r\n                <b>Не удается войти</b><br/>\r\n                Пожалуйста, проверьте правильность написания <b>логина</b> или <b>пароля</b>.\r\n                <List>\r\n                    <li><span>Возможно, нажата клавиша </span><b>Caps Lock</b>?</li>\r\n                    <li><span>Может быть, у Вас включена неправильная <b>раскладка</b> ? (русская или английская)</span></li>\r\n                    <li><span>Попробуйте набрать свой пароль в текстовом редакторе и <b>скопировать</b> в графу «Пароль»</span></li>\r\n                </List>\r\n                Если Вы всё внимательно проверили, но войти всё равно не удается <b>не отчаивайтесь :) </b>\r\n            </ErrorWrapper>}\r\n            <FormContainer>\r\n                <Formik validationSchema={validationSchema} initialValues={{email: '', password: ''}} onSubmit={submit}>\r\n                    {({handleChange,values}) => (\r\n                        <Form>\r\n                            <FormsItem>\r\n                                <Label><Input placeholder={'Email'} autoComplete='email' onChange={handleChange} value={values.email} type='email' name='email'/></Label>\r\n                                <Error name='email' component=\"div\"/>\r\n                            </FormsItem>\r\n                            <FormsItem>\r\n                                <Label><Input placeholder={'Пароль'}  autoComplete='current-password'  onChange={handleChange} value={values.password} type='password' name='password'/></Label>\r\n                                <Error name='password' component=\"div\"/>\r\n                            </FormsItem>\r\n                            <FormsItem>\r\n                                <Label><Input style={{width: '15px'}} onChange={handleChange}  type='checkbox' name='checkbox'/><p>Запомнить меня</p></Label>\r\n                            </FormsItem>\r\n                            <p style={{color: 'red'}}>{props.errorMessage}</p>\r\n                            <CaptchaWrapper>\r\n                                {props.captcha &&\r\n                                <div>\r\n                                    <img src={props.captcha} alt=\"#\"/>\r\n                                    <Label><Input placeholder={'Введите капчу'} onChange={handleChange} type='text' name='captcha'/></Label>\r\n                                </div>\r\n                                }\r\n                            </CaptchaWrapper>\r\n                            <ButtonWrapper>\r\n                                <Button type='submit'>Войти</Button>\r\n                            </ButtonWrapper>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </FormContainer>\r\n        </FormWrapper>\r\n    );\r\n};\r\n\r\n\r\ntype ContainerType = {\r\n    isAuth: boolean\r\n    loginAuth: (login: string, password: number, rememberMe: boolean, captcha: string) => void\r\n    errorMessage: string | null\r\n    captcha: string | null\r\n}\r\nconst LoginContainer: React.FC<ContainerType> = (props) => {\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <Login captcha={props.captcha} errorMessage={props.errorMessage} loginAuth={props.loginAuth}/>\r\n    )\r\n}\r\n\r\nconst MapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        isAuth: isAuthSelect(state),\r\n        errorMessage: messagesErrorSelect(state),\r\n        captcha: captchaSelect(state),\r\n    }\r\n\r\n}\r\n\r\nexport default connect<MapStatePropsType, MapDispatchPropsType, {}, AppStateType>(MapStateToProps, {loginAuth})(LoginContainer)\r\n\r\n\r\nconst FormWrapper = styled.section`\r\n  background-color: white;\r\n  box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n  border-radius: 4px;\r\n  min-height: 600px;\r\n  display: flex;\r\n  flex-direction: column;  \r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nconst FormContainer = styled.div`\r\n  margin: 0 auto;\r\n  border: 1px solid #d3d9de;\r\n  border-radius: 4px;\r\n  padding: 20px;\r\n`\r\n\r\nconst FormsItem = styled.div`\r\n  margin-bottom: 10px;\r\n \r\n`\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 5px;\r\n  p {\r\n    margin-left: 10px;\r\n  }\r\n`\r\nconst Input = styled(Field)`\r\n  background-color: #ffffff;\r\n  border-radius: 3px;\r\n  border: 1px solid #d3d9de;\r\n  color: black;\r\n  font-size: 14px;\r\n  line-height: 16px;\r\n  height: 35px;\r\n  width: 250px;\r\n`\r\n\r\nconst Error = styled(ErrorMessage)`\r\n  color: red;\r\n  margin-top: 5px;\r\n`\r\n\r\nconst ButtonWrapper = styled.div`\r\n  margin-top: 30px;\r\n`\r\n\r\nexport const Button = styled.button`\r\n    padding: 7px 16px 8px;\r\n    margin: 0;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    background-color: #5181b8;\r\n    border: 0;\r\n    border-radius: 4px;\r\n    color: #fff;\r\n    &:hover {\r\n    opacity: 0.88;\r\n    }\r\n    &:active {\r\n    background-color: #4a76a8;\r\n    padding-top: 8px;\r\n    padding-bottom: 7px;\r\n    }\r\n    &:disabled{\r\n    opacity: 0.5;\r\n    }\r\n`\r\n\r\nconst List = styled.ul`\r\n  padding-left: 30px;\r\n  margin: 20px 0;\r\n  li {\r\n    list-style: initial;\r\n  }\r\n`\r\n\r\nconst ErrorWrapper = styled.section`\r\n  font-size: 14px;\r\n  line-height: 150%;\r\n  background-color: #ffd6cc;\r\n  border-radius: 4px;\r\n  padding: 30px;\r\n  margin: 20px 0;\r\n`\r\n\r\nconst CaptchaWrapper = styled.div`\r\n  \r\n`","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        'API-KEY': \"bcafe704-1e20-408c-8edf-53182718e5ec\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage,pageSize,whatUsers){\r\n       return  instance.get( `users?page=${currentPage}&count=${pageSize}&friend=${whatUsers}`).then(response => ({response})).catch(error => ({error}))\r\n    },\r\n    getFriends(friend,pageNumber,count){\r\n        return instance.get(`users?friend=${friend}&page=${pageNumber}&count=${count}`).then(response => response.data).catch(error => console.log(error.message))\r\n    },\r\n    getUsersSubs(userId){\r\n      return instance.get(`follow/${userId}`).then(response => ({response})).catch(error => ({error}))\r\n    },\r\n    postUsersSubs(userId){\r\n      return  instance.post(`follow/${userId}`).then(response => ({response})).catch(error => ({error}))\r\n    },\r\n    deleteUsersSubs(userId){\r\n        return instance.delete(`follow/${userId}`).then(response => ({response})).catch(error => ({error}))\r\n    },\r\n    getProfile(userId){\r\n        return instance.get(`profile/${userId}`).catch(error => console.log(error.message))\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`profile/status/${userId}`).then(response => response.data).catch(error => console.log(error.message))\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`,{status}).catch(error => console.log(error.message))\r\n    },\r\n    savePhoto(photo){\r\n        let formData = new FormData()\r\n        formData.append('image', photo)\r\n        return instance.put('profile/photo',formData).catch(error => console.log(error.message))\r\n    },\r\n    saveProfile(profile){\r\n        return instance.put(`profile`,profile).catch(error => console.log(error.message))\r\n    }\r\n}\r\n\r\nexport const authApi = {\r\n    getAuth() {\r\n        return  instance.get(`auth/me`).then(response => response.data)\r\n    },\r\n    getCaptcha(){\r\n        return instance.get(`security/get-captcha-url`).then(response => ({response})).catch(error => ({error}))\r\n    },\r\n    login(email,password,rememberMe = false,captcha) {\r\n        return  instance.post(`auth/login`, {email,password,rememberMe,captcha}).then(response => ({response})).catch(error => ({error}))\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`).then(response => response.data)\r\n    },\r\n}\r\n\r\nexport const galleryApi = {\r\n    getImages(){\r\n        return axios.get('https://api.giphy.com/v1/gifs/random?api_key=gR30u9O8KPOanwIQupHbD90d4k57EOeY').then(response => ({response})).catch(error => ({error}))\r\n    }\r\n}\r\n\r\n\r\n","import {call, fork, put, takeEvery, throttle} from \"redux-saga/effects\";\r\nimport {FOLLOW, GET_CURRENT_PAGE_USERS, GET_RANDOM_FRIENDS, GET_USERS, GET_USERS_SUBS, UNFOLLOW} from \"./users-reducer\";\r\nimport * as actions from \"./users-action\";\r\nimport {usersAPI} from \"../../api/api-js\";\r\nimport {UserType} from \"../../Types/Types\";\r\n\r\n\r\n\r\n\r\n\r\nexport function* getUsersWatcher() {\r\n    yield throttle(100,GET_USERS, getUsersWorker)\r\n\r\n}\r\n\r\nexport function* getUsersWorker({currentPage, pageSize,whatUsers}: ReturnType<typeof actions.getUsers>) {\r\n        yield put(actions.toggleIsFetching(true))\r\n        const {response,error}  = yield call(usersAPI.getUsers, currentPage, pageSize, whatUsers)\r\n        if (response){\r\n            yield put(actions.setUsers(response.data.items))\r\n            yield put(actions.setTotalCount(response.data.totalCount))\r\n            yield put(actions.isFriends(whatUsers))\r\n        } else {\r\n            console.log(error)\r\n        }\r\n        yield put(actions.toggleIsFetching(false))\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport function* getCurrentPageUsersWatcher() {\r\n    yield takeEvery(GET_CURRENT_PAGE_USERS, getCurrentPageUsersWorker)\r\n}\r\n\r\nexport function* getCurrentPageUsersWorker({pageNumber, pageSize,whatUsers}: ReturnType<typeof actions.getCurrentPageUsers>) {\r\n        yield put(actions.setCurrent(pageNumber));\r\n        yield put(actions.toggleIsFetching(true))\r\n        let {response,error} = yield call(usersAPI.getUsers, pageNumber, pageSize,whatUsers)\r\n        if (response){\r\n            yield put(actions.setUsers(response.data.items))\r\n        } else {\r\n            console.log(error)\r\n        }\r\n        yield put(actions.toggleIsFetching(false))\r\n\r\n\r\n}\r\n\r\nexport function* getAllUsersCount(){\r\n    let {response,error} = yield call(usersAPI.getUsers, 1, 1)\r\n    if (response){\r\n        yield put(actions.setAllUsersCount(response.data.totalCount))\r\n    } else {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport function* getAllFriendsCount(){\r\n    let {response,error} = yield call(usersAPI.getUsers, 1, 1,true)\r\n    if (response){\r\n        yield put(actions.setFriendsCount(response.data.totalCount))\r\n    } else {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport function* followWatcher() {\r\n    yield takeEvery(FOLLOW, followWorker)\r\n}\r\n\r\nexport function* followWorker({userId}: ReturnType<typeof actions.follow>) {\r\n\r\n    yield put(actions.toggleFollowingProgress(true, userId))\r\n    const {response,error} = yield call(usersAPI.postUsersSubs, userId)\r\n    if (response){\r\n        if (response.data.resultCode === 0) {\r\n            yield put(actions.follow(userId))\r\n            yield getAllFriendsCount()\r\n        }\r\n        yield getUsersSubsWorker({userId} as ReturnType<typeof actions.getUsersSubs>)\r\n    } else {\r\n        console.error(error)\r\n    }\r\n    yield put(actions.toggleFollowingProgress(false, userId))\r\n}\r\n\r\n\r\nexport function* unFollowWatcher() {\r\n    yield takeEvery(UNFOLLOW, unFollowWorker)\r\n}\r\n\r\nexport function* unFollowWorker({userId}: ReturnType<typeof actions.unFollow>) {\r\n    yield put(actions.toggleFollowingProgress(true, userId))\r\n    const {response,error} = yield call(usersAPI.deleteUsersSubs, userId)\r\n    if (response){\r\n        if (response.data.resultCode === 0) {\r\n            yield put(actions.unFollow(userId))\r\n            yield getAllFriendsCount()\r\n        }\r\n    } else {\r\n        console.log(error)\r\n    }\r\n    yield getUsersSubsWorker({userId} as ReturnType<typeof actions.getUsersSubs>)\r\n    yield put(actions.toggleFollowingProgress(false, userId))\r\n}\r\n\r\n\r\nexport function* getRandomFriendsWatcher() {\r\n    yield takeEvery(GET_RANDOM_FRIENDS, getRandomFriendsWorker)\r\n}\r\n\r\nexport function* getRandomFriendsWorker() {\r\n    yield put(actions.toggleIsFetching(true))\r\n    const {response,error} = yield call(usersAPI.getUsers,1,100,true)\r\n    const arr = [] as Array<UserType>\r\n    const randomNumber = [] as Array<number>\r\n    if (response){\r\n        yield put(actions.setFriendsCount(response.data.totalCount))\r\n        if (response.data.items.length !== 0) {\r\n            while (randomNumber.length !== response.data.totalCount && randomNumber.length < 6 ){\r\n                let totalCount;\r\n                if (response.data.totalCount > 100){\r\n                    totalCount = 100\r\n                } else {\r\n                    totalCount = response.data.totalCount\r\n                }\r\n                const randomIndex = Math.floor(Math.random() * totalCount)\r\n                if (!randomNumber.some(j => j === randomIndex)) {\r\n                    arr.push(response.data.items[randomIndex])\r\n                    randomNumber.push(randomIndex)\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        console.log(error)\r\n    }\r\n    yield put(actions.setRandomFriends(arr))\r\n    yield put(actions.toggleIsFetching(false))\r\n}\r\n\r\nexport function* getUsersSubs(){\r\n    yield takeEvery(GET_USERS_SUBS, getUsersSubsWorker)\r\n}\r\n\r\nexport function* getUsersSubsWorker({userId}: ReturnType<typeof actions.getUsersSubs>){\r\n    const {response,error} = yield call(usersAPI.getUsersSubs,userId)\r\n    if (response){\r\n        yield put(actions.setUsersSubs(response.data))\r\n    } else {\r\n        console.log(error)\r\n    }\r\n\r\n}\r\n\r\nexport default function* rootSaga() {\r\n    yield fork(getUsersWatcher)\r\n    yield fork(getCurrentPageUsersWatcher)\r\n    yield fork(followWatcher)\r\n    yield fork(unFollowWatcher)\r\n    yield fork(getRandomFriendsWatcher)\r\n    yield fork(getUsersSubs)\r\n}","import {call, fork, put, takeEvery} from 'redux-saga/effects'\r\nimport {DELETE_LOGIN, LOGIN_OUT, SET_LOGIN_AUTH} from './auth-reducer'\r\nimport {authApi, usersAPI} from \"../../api/api-js\";\r\nimport * as actions from \"./auth-actions\";\r\nimport {getAllFriendsCount, getAllUsersCount} from '../Users/user-saga';\r\n\r\n\r\nexport function* authWatcher() {\r\n    yield takeEvery(SET_LOGIN_AUTH, setLoginWorker)\r\n    yield takeEvery(LOGIN_OUT, logoutWorker)\r\n}\r\n\r\n\r\nexport function* getAuthWorker() {\r\n    const data = yield call(authApi.getAuth)\r\n    if (data.resultCode === 0) {\r\n        yield put(actions.setUserData(data.data.id, data.data.login, data.data.email, true))\r\n        yield getProfilePhoto(data.data.id)\r\n        yield getAllUsersCount()\r\n        yield getAllFriendsCount()\r\n    }\r\n\r\n}\r\n\r\nexport function* getProfilePhoto(userId: number) {\r\n    const data = yield call(usersAPI.getProfile, userId)\r\n    yield put(actions.setProfilePhoto(data.data.photos.small))\r\n    console.log(data.data.photos.small)\r\n}\r\n\r\n\r\ntype LoginWorker = {\r\n    payload: {\r\n        email: string\r\n        password: string\r\n        rememberMe: boolean\r\n        captcha: string\r\n    }\r\n    type: string\r\n}\r\n\r\nexport function* setLoginWorker({payload: {email, password, rememberMe,captcha}}: LoginWorker) {\r\n    const {response,error} = yield call(authApi.login, email, password, rememberMe,captcha)\r\n    if (response) {\r\n        if (response.data.resultCode === 0) {\r\n            yield getAuthWorker()\r\n        } else if (response.data.resultCode === 10){\r\n            yield captchaWorker()\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        yield put(actions.setErrorMessages(message))\r\n    } else if (error){\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport function* captchaWorker () {\r\n    const {response,error} = yield call(authApi.getCaptcha)\r\n    if (response) {\r\n        yield put(actions.setCaptcha(response.data.url))\r\n    } else if (error){\r\n        console.log(error)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function* logoutWorker() {\r\n    let data = yield call(authApi.logout)\r\n    if (data.resultCode === 0) {\r\n        yield put({type: DELETE_LOGIN})\r\n    }\r\n}\r\n\r\nexport default function* rootSaga() {\r\n    yield fork(authWatcher);\r\n}\r\n","import {call, fork, put, takeEvery} from \"redux-saga/effects\";\r\nimport {getAuthWorker} from \"./Auth/auth-saga\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\nconst INITIALIZED = 'INITIALIZED'\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\n\r\nconst appReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                initialized: true,\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n\r\n    }\r\n\r\n}\r\n\r\ntype ActionsType = ReturnType<typeof initialize>\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\nexport const initialize = () => ({type: INITIALIZED})\r\n\r\n\r\nexport function* initializeWatcher() {\r\n    yield takeEvery(INITIALIZED, initializeWorker)\r\n}\r\n\r\nexport function* initializeWorker() {\r\n    yield fork(getAuthWorker)\r\n    yield put(initializedSuccess())\r\n}\r\n\r\nexport default appReducer\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport styled from \"styled-components/macro\";\r\n\r\nconst Gallery = (props) => {\r\n\r\n    const imgNews = () => {\r\n        switch (props.status) {\r\n            case 'loading': {\r\n                return <ImgWrapper><Preloader/></ImgWrapper>\r\n            }\r\n            case 'complete': {\r\n                return  <ImgWrapper>\r\n                            <img src={props.imgInfo.url} alt=\"#\"/>\r\n                        </ImgWrapper>\r\n            }\r\n            default: return <div><Preloader/></div>\r\n        }\r\n    }\r\n    return (\r\n        <GalleryContainer>\r\n            <NewsWrapper>\r\n                <h2>Новости</h2>\r\n                {imgNews()}\r\n                {props.error && <p style={{color: 'red'}}>{`Извините произошла ошибка ${props.error}`}</p>}\r\n                <Button onClick={props.getImg}>Загрузить</Button>\r\n            </NewsWrapper>\r\n        </GalleryContainer>\r\n    );\r\n};\r\n\r\nexport default Gallery;\r\n\r\nconst GalleryContainer = styled.main`\r\n  background-color: white;\r\n  box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n  border-radius: 4px;\r\n`\r\nconst NewsWrapper = styled.article`\r\n  text-align: center;\r\n  h2 {\r\n    padding-top: 20px;\r\n  }\r\n`\r\n\r\nconst ImgWrapper = styled.div`\r\n    margin: 20px auto;\r\n    width: 640px;\r\n    height: 320px;\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n`\r\n\r\nconst Button = styled.button`\r\n    padding: 7px 16px 8px;\r\n    margin-bottom: 20px;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    background-color: #5181b8;\r\n    border: 0;\r\n    border-radius: 4px;\r\n    color: #fff;\r\n    &:hover {\r\n    opacity: 0.88;\r\n    }\r\n    &:active {\r\n    background-color: #4a76a8;\r\n    padding-top: 8px;\r\n    padding-bottom: 7px;\r\n    } \r\n`\r\n\r\n","import * as actions from \"./gallery-action\"\r\n\r\n\r\nexport const SET_IMAGES = 'gallery-reducer/SET_IMAGES'\r\nexport const DELETE_HISTORY_ITEM = 'gallery-reducer/DELETE_HISTORY_ITEM'\r\nexport const SET_CURRENT_PAGE = 'gallery-reducer/SET_CURRENT_PAGE'\r\nexport const GET_IMG = 'gallery-reducer/GET_IMG'\r\nexport const FIRST_RENDER = 'gallery-reducer/FIRST_RENDER'\r\nexport const SET_STATUS = 'gallery-reducer/SET_STATUS'\r\nexport const SET_STATUS_ERROR = 'gallery-reducer/SET_STATUS_ERROR'\r\n\r\n\r\nlet initialState = {\r\n    imgData: null,\r\n    galleryHistory: [] as Array<object>,\r\n    pageSize: 4,\r\n    currentPage: 1,\r\n    status: '',\r\n    error: null as null | string,\r\n    firstRender: true,\r\n}\r\n\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\n\r\n\r\nconst galleryReducer = (state = initialState, action: ActionType): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n        case SET_IMAGES: {\r\n            return {\r\n                ...state,\r\n                imgData: action.data,\r\n                galleryHistory: [...state.galleryHistory, {url: action.data.image_url, time: action.time, imgName: action.data.username, id: state.galleryHistory.length}]\r\n            }\r\n        }\r\n\r\n        case DELETE_HISTORY_ITEM: {\r\n            const lw = state.galleryHistory.findIndex ((w: any) => w.id === action.id)\r\n            return {\r\n                ...state,\r\n                galleryHistory: [\r\n                    ...state.galleryHistory.slice (0, lw),\r\n                    ...state.galleryHistory.slice (lw + 1),\r\n                ]\r\n            }\r\n        }\r\n\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state, currentPage: action.value\r\n            }\r\n        }\r\n\r\n        case FIRST_RENDER: {\r\n            return {\r\n                ...state, firstRender: action.flag\r\n            }\r\n        }\r\n\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n\r\n        case SET_STATUS_ERROR: {\r\n            return {\r\n                ...state, error: action.status\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n\r\n    }\r\n\r\n}\r\n\r\ntype ActionType = ReturnType<InferValueType<typeof actions>>\r\ntype InferValueType<T> = T extends {[key: string]: infer U} ? U : never\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default galleryReducer","import {DELETE_HISTORY_ITEM, FIRST_RENDER, GET_IMG, SET_CURRENT_PAGE, SET_IMAGES, SET_STATUS, SET_STATUS_ERROR} from \"./gallery-reducer\"\r\n\r\n\r\nexport const getImg = () => ({type: GET_IMG}as const)\r\nexport const isFirstRender = (flag: boolean) => ({type: FIRST_RENDER,flag}as const)\r\nexport const setGalleryStatus = (status: string) => ({type: SET_STATUS,status}as const)\r\nexport const setGalleryStatusError = (status: string) => ({type: SET_STATUS_ERROR,status}as const)\r\nexport const setImages = (data: any, time: string) => ({type: SET_IMAGES, data, time}as const)\r\nexport const deleteHistoryItem = (id: number) => ({type: DELETE_HISTORY_ITEM, id}as const)\r\nexport const setCurrentPages = (value: number) => ({type: SET_CURRENT_PAGE, value}as const)","import {AppStateType} from \"../redux-store\";\r\nimport { createSelector } from 'reselect'\r\nimport {createDate} from \"../../components/common/Data/createDate\";\r\n\r\nexport const isFirstRenderSelect = (state: AppStateType) => {\r\n    return state.galleryPage.firstRender\r\n}\r\n\r\nexport const getImgData = (state: AppStateType) => state.galleryPage.imgData\r\nexport const getImgInfo = createSelector([getImgData],(state: any) => {\r\n    if (state){\r\n        return {\r\n            url: state.images.downsized_large.url,\r\n        }\r\n    }\r\n\r\n})\r\nexport const getStatusSelect = (state: AppStateType) => state.galleryPage.status\r\nexport const getStatusError = (state: AppStateType) => state.galleryPage.error\r\n","import React, {useEffect} from 'react';\r\nimport Gallery from \"./Gallery\";\r\nimport {connect} from \"react-redux\";\r\nimport {getImg, isFirstRender} from \"../../redux/Gallery/gallery-action\";\r\nimport {getImgInfo, getStatusError, getStatusSelect, isFirstRenderSelect} from \"../../redux/Gallery/gallery-select\";\r\n\r\n\r\n\r\nconst GalleryContainer = (props) => {\r\n\r\n    useEffect(() => {\r\n        if (props.isRender){\r\n            props.getImg()\r\n            props.isFirstRender(false)\r\n        }\r\n    })\r\n\r\n    return (\r\n        <Gallery {...props} getImg={props.getImg}/>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    imgInfo: getImgInfo(state),\r\n    isRender: isFirstRenderSelect(state),\r\n    status: getStatusSelect(state),\r\n    error: getStatusError(state),\r\n})\r\n\r\nexport default connect (mapStateToProps, {getImg,isFirstRender}) (GalleryContainer);\r\n","import React, {useEffect, useState} from 'react';\r\nimport styled from \"styled-components/macro\";\r\n\r\nconst GalleryHistoryPagination = ({historyArr, pageSize, currentPage, setCurrentPages,rightBorderPageSize,leftBorderPageSize}) => {\r\n    let [paginationCount, setPaginationCount] = useState(1)\r\n    console.log (paginationCount)\r\n    useEffect(() => {\r\n        if (historyArr.slice (leftBorderPageSize, rightBorderPageSize).length === 0 && historyArr.length !== 0) {\r\n            setCurrentPages(currentPage - 1)\r\n            if (currentPage === leftBorderPagination) {\r\n                setPaginationCount(paginationCount - 1)\r\n            }\r\n        }\r\n    })\r\n    let pagesCount = Math.ceil (historyArr.length / pageSize)\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    const paginationSize = 3;\r\n    const leftBorderPagination = (paginationCount - 1) * paginationSize + 1\r\n    const rightBorderPagination = paginationCount * paginationSize\r\n    console.log (rightBorderPagination, pages.length)\r\n\r\n    return (\r\n        historyArr.length > pageSize ?\r\n        <PaginationContainer>\r\n            <Pages>\r\n                <PaginationButton disabled={paginationCount === 1}\r\n                                  onClick={() => {setCurrentPages(leftBorderPagination - 1)\r\n                                      setPaginationCount(paginationCount - 1)}}>«\r\n                </PaginationButton>\r\n                <PagesItems>\r\n                    {\r\n                        pages.slice (leftBorderPagination - 1, rightBorderPagination)\r\n                            .map ((p, index) => <PagesItem key={index} currentPage={currentPage} p={p} onClick={() => {\r\n                                setCurrentPages(p)\r\n                            }}>{p}</PagesItem>)\r\n                    }\r\n                </PagesItems>\r\n                <PaginationButton\r\n                    disabled={!(rightBorderPagination < pages.length)}\r\n                    onClick={() => {\r\n                    setCurrentPages(rightBorderPagination + 1)\r\n                    setPaginationCount(paginationCount + 1)}}\r\n                >\r\n                    »\r\n                </PaginationButton>\r\n            </Pages>\r\n        </PaginationContainer> : null\r\n    );\r\n};\r\n\r\nexport default GalleryHistoryPagination;\r\n\r\n\r\nconst PaginationContainer = styled.div`\r\n  display: flex;\r\n`\r\n\r\nconst Pages = styled.div`\r\n    display: flex;\r\n    margin: 0 auto;\r\n`\r\n\r\nconst PagesItems = styled.div`\r\n    display: flex;\r\n    padding: 10px 0;\r\n    cursor: pointer;\r\n     div {\r\n       padding: 10px;\r\n       border-left: 1px solid #e7e8ec;\r\n       border-top: 1px solid #e7e8ec;\r\n       border-bottom: 1px solid #e7e8ec;\r\n    }\r\n    div:first-child {\r\n      border-left: none;\r\n    }\r\n`\r\n\r\nconst PagesItem = styled.div`\r\n  font-weight: ${props => props.currentPage === props.p ? 'bold' : 'inherit'};\r\n  transition: font-weight, transform 0.2s ease-in-out;\r\n`\r\n\r\nconst PaginationButton = styled.button`\r\n    background: none;\r\n    border: 1px solid #e7e8ec;\r\n    border-radius: 2px;\r\n    margin: 10px 0;\r\n    padding: 10px;\r\n`","import React, {useEffect, useRef} from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport {useDrag} from \"react-dnd\";\r\nimport {getEmptyImage} from \"react-dnd-html5-backend\";\r\n\r\nconst GalleryHistoryItem = ({id,url,deleteHistoryItem,item}) => {\r\n    const img = useRef(null)\r\n\r\n    const [{isDragging}, drag, preview] = useDrag (\r\n        {item: {type: 'box', id, url, imgItem: img},\r\n            end: (item, monitor) => {\r\n                const dropResult = monitor.getDropResult();\r\n                if (item && dropResult) {\r\n                    deleteHistoryItem(id)\r\n                }\r\n            },\r\n            collect: (monitor) => ({\r\n                isDragging: monitor.isDragging(),\r\n            }),\r\n        });\r\n    useEffect(() => {\r\n        preview(getEmptyImage(), { captureDraggingState: true });\r\n    }, []);\r\n\r\n\r\n\r\n    return (\r\n            <Item width={item} isDrag={isDragging}  ref={drag} key={id} onClick={() => {deleteHistoryItem(id)}}>\r\n                <ItemImg ref={img}  key={id} src={url} alt=\"#\"/>\r\n            </Item>\r\n    );\r\n};\r\n\r\nexport default GalleryHistoryItem;\r\n\r\n\r\nconst Item = styled.li`\r\n   ${props => props.width ? `width : ${props.width.current.offsetWidth}px` : null};\r\n   height: 150px;\r\n   cursor: grab;\r\n   ${props => props.isDrag ? 'opacity: 0.4' : null}\r\n  \r\n`\r\n\r\nconst ItemImg = styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n`\r\n","import React from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport {useDrop} from \"react-dnd\";\r\nimport {keyframes} from \"styled-components/macro\";\r\nimport {css} from \"styled-components\";\r\n\r\nconst GalleryHistoryDropDrag = () => {\r\n\r\n    const [{canDrop, isOver}, drop] = useDrop (\r\n        {\r\n            accept: 'box',\r\n            drop: () => ({name: 'test'}),\r\n            collect: (monitor) => ({isOver: monitor.isOver (), canDrop: monitor.canDrop (),}),\r\n        }\r\n    );\r\n\r\n    return (\r\n        <DropContainer canDrop={canDrop} isOver={isOver} ref={drop}>\r\n            <p>{'Перенеси сюда чтобы удалить'}</p>\r\n        </DropContainer>\r\n    );\r\n};\r\n\r\nexport default GalleryHistoryDropDrag;\r\n\r\n\r\nconst rotate = keyframes`\r\n    to {\r\n        outline-color: #2cbedc;\r\n        box-shadow: 0 0 0 5px #E0E4CC;\r\n    }\r\n\r\n`\r\n\r\nconst DropContainer = styled.div`\r\n  width: 300px;\r\n  height: 200px;\r\n  outline: 5px dashed #E0E4CC;\r\n  box-shadow: 0 0 0 5px #69d2e7;\r\n  margin: 100px auto 0 auto;\r\n  display:flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${props => props.isOver ? 'background-color: #69d2e7' : null};\r\n  transition: background-color .33s ease-in-out;\r\n  animation: ${props => props.canDrop ? css`${rotate} 1s ease infinite` : null};\r\n    \r\n`\r\n\r\n","import React, {memo} from 'react';\r\nimport GalleryHistoryItem from \"../GalleryHistoryItem\";\r\n\r\nconst styles = {\r\n    display: 'inline-block',\r\n    transform: 'rotate(-7deg)',\r\n    WebkitTransform: 'rotate(-7deg)',\r\n};\r\nexport const BoxDragPreview = memo (({id,url,item}) => {\r\n    return (\r\n        <div style={styles}>\r\n            <GalleryHistoryItem item={item} id={id} url={url}/>\r\n        </div>\r\n    );\r\n});\r\n\r\n\r\n","import React from \"react\";\r\nimport { useDragLayer } from \"react-dnd\";\r\nimport { BoxDragPreview } from \"./BoxDragPreview\";\r\nconst layerStyles = {\r\n    position: \"fixed\",\r\n    pointerEvents: \"none\",\r\n    zIndex: 100,\r\n    left: 0,\r\n    top: 0,\r\n    width: \"100%\",\r\n    height: \"100%\"\r\n};\r\nfunction getItemStyles(initialOffset, currentOffset, isSnapToGrid) {\r\n    if (!initialOffset || !currentOffset) {\r\n        return {\r\n            display: \"none\"\r\n        };\r\n    }\r\n    let { x, y } = currentOffset;\r\n    if (isSnapToGrid) {\r\n        x -= initialOffset.x;\r\n        y -= initialOffset.y;\r\n        x += initialOffset.x;\r\n        y += initialOffset.y;\r\n    }\r\n    const transform = `translate(${x}px, ${y}px)`;\r\n    return {\r\n        transform,\r\n    };\r\n}\r\nexport const CustomDragLayer = (props) => {\r\n    const {\r\n        itemType,\r\n        isDragging,\r\n        item,\r\n        initialOffset,\r\n        currentOffset\r\n    } = useDragLayer((monitor) => ({\r\n        item: monitor.getItem(),\r\n        itemType: monitor.getItemType(),\r\n        initialOffset: monitor.getInitialSourceClientOffset(),\r\n        currentOffset: monitor.getSourceClientOffset(),\r\n        isDragging: monitor.isDragging()\r\n    }));\r\n\r\n\r\n\r\n    return (\r\n        <div style={layerStyles}>\r\n            <div style={getItemStyles(initialOffset, currentOffset)}>\r\n                <BoxDragPreview item={item && item.imgItem ? item.imgItem : null} id={item ? item.id : null} url={item ? item.url : null}/>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport styled from \"styled-components/macro\";\r\nimport {connect} from \"react-redux\";\r\nimport GalleryHistoryPagination from \"./GalleryHistoryPagination/GalleryHistoryPagination\";\r\nimport {deleteHistoryItem, setCurrentPages} from \"../../../redux/Gallery/gallery-action\";\r\nimport {DndProvider} from \"react-dnd\";\r\nimport {HTML5Backend} from \"react-dnd-html5-backend\";\r\nimport GalleryHistoryItem from \"./GalleryHistoryItem\";\r\nimport GalleryHistoryDropDrag from \"./GalleryHistoryDropDrag\";\r\nimport {CustomDragLayer} from \"./CustomDragLayer/CustomDragLayer\";\r\nimport face from '../../../assets/images/facesad.png'\r\n\r\n\r\nconst GalleryHistory = ({historyArr, deleteHistoryItem, pageSize, currentPage, setCurrentPages}) => {\r\n    let rightBorderPageSize = currentPage * pageSize\r\n    let leftBorderPageSize = rightBorderPageSize - pageSize\r\n\r\n    const createItemHistory = () => {\r\n        return historyArr\r\n                        .slice(leftBorderPageSize, rightBorderPageSize)\r\n                        .map(item => {\r\n                            return(\r\n                                    <div style={{minWidth: 0}}>\r\n                                        <GalleryHistoryItem\r\n                                                            id={item.id}\r\n                                                            url={item.url}\r\n                                                            deleteHistoryItem={deleteHistoryItem}\r\n                                        />\r\n                                        <Description>\r\n                                            <p>{item.imgName ? item.imgName : 'no name'}</p>\r\n                                            <span>{item.time}</span>\r\n                                        </Description>\r\n                                    </div>\r\n                                  )\r\n\r\n\r\n                        })\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <DndProvider backend={HTML5Backend}>\r\n            <Container>\r\n                <h2>История новостей</h2>\r\n                {historyArr.length === 0 ? 'Ваша история пуста' : null}\r\n                <GalleryHistoryPagination historyArr={historyArr}\r\n                                          pageSize={pageSize}\r\n                                          currentPage={currentPage}\r\n                                          setCurrentPages={setCurrentPages}\r\n                                          leftBorderPageSize={leftBorderPageSize}\r\n                                          rightBorderPageSize={rightBorderPageSize}\r\n                />\r\n                <HistoryWrapper pageSize={pageSize}>\r\n                    {createItemHistory()}\r\n                </HistoryWrapper>\r\n                {historyArr.length === 0 ? <FaceSad><img src={face} alt=\"faceSad\"/></FaceSad> :  <GalleryHistoryDropDrag/>}\r\n                <CustomDragLayer/>\r\n            </Container>\r\n        </DndProvider>\r\n    );\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        historyArr: state.galleryPage.galleryHistory,\r\n        pageSize: state.galleryPage.pageSize,\r\n        currentPage: state.galleryPage.currentPage\r\n    }\r\n}\r\n\r\n\r\nexport default connect (mapStateToProps, {deleteHistoryItem, setCurrentPages}) (GalleryHistory);\r\n\r\n\r\nconst Container = styled.main`\r\n    max-width: 700px;\r\n    margin: 0 auto;\r\n    background-color: white;\r\n    box-shadow: 0 1px 0 0 #d3d9de,0 0 0 1px #e7e8ec;\r\n    border-radius: 4px;\r\n    padding: 50px;\r\n    h2 {\r\n      margin-bottom: 30px;\r\n    }\r\n`\r\n\r\nconst HistoryWrapper = styled.ul`\r\n    margin-top: 30px;\r\n    display: grid;\r\n    grid-template-columns:${props => props.pageSize? `repeat(${props.pageSize}, 1fr)` : '1fr' } ;\r\n    grid-gap: 10px;\r\n`\r\n\r\nconst Description = styled.div`\r\n   p {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    line-height: 1.6em;\r\n   }\r\n`\r\nconst FaceSad = styled.div`\r\n  width: 400px;\r\n  margin: 0 auto;\r\n  img {\r\n    width: 100%;\r\n  }\r\n`","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\nimport {selectIsSaveProfile, selectProfile} from \"../../../redux/Profile/profile-select\";\r\nimport {ProfileType} from \"../../../Types/Types\";\r\nimport {saveProfile} from \"../../../redux/Profile/profile-actions\";\r\nimport ProfileEdit from \"./ProfileEdit\";\r\n\r\n\r\ntype MapStatePropsType = {\r\n    profile: ProfileType | null\r\n    isSaveProfile: boolean\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    saveProfile: (values: object) => void\r\n}\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType\r\n\r\n\r\n\r\nconst ProfileEditContainer: React.FC<PropsType> = ({profile,saveProfile,isSaveProfile})=> {\r\n\r\n    return (\r\n        <ProfileEdit profilePage={profile} saveProfile={saveProfile} isSaveProfile={isSaveProfile}/>\r\n    );\r\n};\r\n\r\nconst MapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return {\r\n        profile: selectProfile(state),\r\n        isSaveProfile: selectIsSaveProfile(state)\r\n    }\r\n}\r\n\r\n export default connect<MapStatePropsType,MapDispatchPropsType,{},AppStateType>(MapStateToProps,{saveProfile})(ProfileEditContainer);\r\n\r\n","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login2\";\nimport {connect} from \"react-redux\";\nimport {Route} from \"react-router-dom\";\nimport {initialize} from \"./redux/app-reducer\"\nimport Preloader from \"./components/Preloader/Preloader\";\nimport GalleryContainer from \"./components/Gallery/galleryContainer\";\nimport GalleryHistory from \"./components/Gallery/GalleryHistory/GalleryHistory\";\nimport ProfileEditContainer from \"./components/Profile/ProfileEdit/ProfileEditContainer\";\n\n\nclass App extends React.Component {\n\n    componentDidMount () {\n       this.props.initialize()\n    }\n\n    render () {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n          <>\n            <HeaderContainer/>\n            <div className=\"app-wrapper\">\n                <Navbar navbarState={this.props.state}/>\n                <div className=\"app-wrapper-content\">\n                    <Route path='/dialogs' render={() => <DialogsContainer/>}/>\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\n                    <Route path='/edit' render={() => <ProfileEditContainer/>}/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/login' render={() => <Login/>}/>\n                    <Route path='/news' render={() => <GalleryContainer/>}/>\n                    <Route path='/history' render={() => <GalleryHistory/>}/>\n                </div>\n            </div>\n           </>\n\n        );\n    }\n}\n\nlet mapStateToProps = (state) => ({initialized: state.appPage.initialized})\n\n\nexport default connect (mapStateToProps, {initialize}) (App);\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {call, delay, fork, put, takeEvery} from \"redux-saga/effects\";\r\nimport {GET_PROFILE, GET_USER_STATUS, SAVE_PHOTO, SAVE_PROFILE, UPDATE_USER_STATUS} from \"./profile-reducer\";\r\nimport {usersAPI} from \"../../api/api-js\";\r\nimport * as actions from \"./profile-actions\";\r\nimport {saveProfileSuccess} from \"./profile-actions\";\r\nimport {getAuthWorker} from \"../Auth/auth-saga\";\r\n\r\n\r\nexport function* getProfileWatcher() {\r\n    yield takeEvery(GET_PROFILE, getProfileWorker)\r\n}\r\n\r\nexport function* getProfileWorker({userId}: ReturnType<typeof actions.getProfile>) {\r\n    if (userId) {\r\n        const data = yield call(usersAPI.getProfile, userId)\r\n        yield put(actions.setUserProfile(data.data))\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport function* getUserStatusWatcher() {\r\n    yield takeEvery(GET_USER_STATUS, getUserStatusWorker)\r\n}\r\n\r\nexport function* getUserStatusWorker({userId}: ReturnType<typeof actions.getUserStatus>) {\r\n    const data = yield call(usersAPI.getStatus, userId)\r\n    yield put(actions.setUserStatus(data))\r\n}\r\n\r\n\r\nexport function* updateUserStatusWatcher() {\r\n    yield takeEvery(UPDATE_USER_STATUS, updateUserStatusWorker)\r\n}\r\n\r\nexport function* updateUserStatusWorker({status}: ReturnType<typeof actions.updateUserStatus>) {\r\n    const response = yield call(usersAPI.updateStatus, status)\r\n    if (response.data.resultCode === 0) {\r\n        yield put(actions.setUserStatus(status))\r\n    }\r\n}\r\n\r\n\r\nexport function* savePhotoWatcher() {\r\n    yield takeEvery(SAVE_PHOTO, savePhotoWorker)\r\n}\r\n\r\nexport function* savePhotoWorker({photo}: ReturnType<typeof actions.savePhoto>) {\r\n    let response = yield call(usersAPI.savePhoto, photo)\r\n    if (response.data.resultCode === 0) {\r\n        yield put(actions.savePhotoSuccess(response.data.data.photos))\r\n        yield getAuthWorker()\r\n    }\r\n}\r\n\r\n\r\nexport function* saveProfileWatcher() {\r\n    yield takeEvery(SAVE_PROFILE, saveProfileWorker)\r\n}\r\n\r\nexport function* saveProfileWorker({values}: ReturnType<typeof actions.saveProfile>) {\r\n    let response = yield call(usersAPI.saveProfile, values)\r\n    if (response.data.resultCode === 0) {\r\n        yield put(saveProfileSuccess())\r\n        yield delay(4000)\r\n        yield put(saveProfileSuccess())\r\n    }\r\n}\r\n\r\n\r\nexport default function* rootSaga() {\r\n    yield fork(getProfileWatcher);\r\n    yield fork(getUserStatusWatcher)\r\n    yield fork(updateUserStatusWatcher)\r\n    yield fork(savePhotoWatcher)\r\n    yield fork(saveProfileWatcher)\r\n}","import {fork,call,throttle, put} from \"redux-saga/effects\";\r\nimport { galleryApi } from \"../../api/api-js\";\r\nimport {createDate} from \"../../components/common/Data/createDate\";\r\nimport {GET_IMG} from \"./gallery-reducer\";\r\nimport * as actions from \"./gallery-action\"\r\n\r\n\r\nexport function* getImgWatcher() {\r\n    yield throttle(500, GET_IMG, getImgWorker)\r\n}\r\n\r\nexport function* getImgWorker() {\r\n    yield put(actions.setGalleryStatus('loading'))\r\n    const {response,error} = yield call(galleryApi.getImages)\r\n    if (response) {\r\n        let time = createDate()\r\n       yield put(actions.setImages(response.data.data, time))\r\n    } else if (error){\r\n        actions.setGalleryStatusError(error)\r\n    }\r\n    yield put(actions.setGalleryStatus('complete'))\r\n}\r\n\r\n\r\n\r\nexport default function* rootSaga () {\r\n    yield fork(getImgWatcher)\r\n}","import {spawn } from \"redux-saga/effects\";\r\nimport { initializeWatcher } from \"../app-reducer\";\r\nimport auth from '../Auth/auth-saga'\r\nimport profile from '../Profile/profile-saga'\r\nimport users from '../Users/user-saga'\r\nimport gallery from '../Gallery/gallery-saga'\r\n\r\n\r\nexport default function* rootSaga() {\r\n   yield spawn(auth)\r\n   yield spawn(initializeWatcher)\r\n   yield spawn(profile)\r\n   yield spawn(users)\r\n   yield spawn(gallery)\r\n\r\n}","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./Profile/profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./Users/users-reducer\";\r\nimport authReducer from \"./Auth/auth-reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport CreateSagaMiddleware from 'redux-saga'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\nimport galleryReducer from \"./Gallery/gallery-reducer\";\r\nimport rootSaga from \"./Sagas/root-saga\";\r\n\r\n\r\n\r\nlet reducers = combineReducers ({\r\n                                    profilePage: profileReducer,\r\n                                    dialogsPage: dialogsReducer,\r\n                                    usersPage: usersReducer,\r\n                                    auth: authReducer,\r\n                                    form: formReducer,\r\n                                    appPage: appReducer,\r\n                                    galleryPage: galleryReducer\r\n\r\n                                })\r\n\r\n\r\ntype RootReducerType = typeof reducers\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\nconst sagaMiddleware = CreateSagaMiddleware()\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nlet store = createStore (reducers, composeEnhancers (applyMiddleware (sagaMiddleware,thunk)))\r\nsagaMiddleware.run(rootSaga)\r\n\r\n\r\n\r\n// @ts-ignore\r\nwindow.store = store\r\n\r\nexport default store","import React from 'react';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport ReactDOM from \"react-dom\";\nimport store from \"./redux/redux-store\";\nimport {Provider} from \"react-redux\";\nimport {BrowserRouter} from \"react-router-dom\";\n\n\nReactDOM.render (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <App state={store.getState()}/>\n        </Provider>,\n    </BrowserRouter>,\n    document.getElementById ('root')\n);\n\nserviceWorker.unregister ();\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}